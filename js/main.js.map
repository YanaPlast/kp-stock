{"version":3,"sources":["webpack:///./main.js","webpack:///./partials/add-to-collection/info.handlebars","webpack:///./partials/add-to-collection/list.handlebars","webpack:///./partials/add-to-collection/status.handlebars","webpack:///./partials/buy.handlebars","webpack:///./partials/callback/callback-error.handlebars","webpack:///./partials/fast-view.handlebars","webpack:///./partials/gallery-item.handlebars","webpack:///./partials/pagenav.handlebars","webpack:///./partials/payment.handlebars","webpack:///./partials/photo.handlebars","webpack:///./partials/tooltip.handlebars","webpack:///./scripts/main/app.js","webpack:///./scripts/main/axios/index.js","webpack:///./scripts/main/axios/instance.js","webpack:///./scripts/main/axios/middleware/handle-error.js","webpack:///./scripts/main/axios/middleware/rewrite-url.js","webpack:///./scripts/main/components/add-to-collection.js","webpack:///./scripts/main/components/authorization/auth-form.js","webpack:///./scripts/main/components/authorization/confirmation-code.js","webpack:///./scripts/main/components/authorization/create-password.js","webpack:///./scripts/main/components/authorization/index.js","webpack:///./scripts/main/components/authorization/registration.js","webpack:///./scripts/main/components/authorization/restore-password.js","webpack:///./scripts/main/components/authorization/set-password.js","webpack:///./scripts/main/components/autocomplete.js","webpack:///./scripts/main/components/big-image.js","webpack:///./scripts/main/components/button-link.js","webpack:///./scripts/main/components/buy-pack-authorized.js","webpack:///./scripts/main/components/buy-pack.js","webpack:///./scripts/main/components/buy.js","webpack:///./scripts/main/components/cols-items.js","webpack:///./scripts/main/components/copy-link.js","webpack:///./scripts/main/components/delete-confirm-btn.js","webpack:///./scripts/main/components/download-link.js","webpack:///./scripts/main/components/dropdown/dropdown-checkbox.js","webpack:///./scripts/main/components/dropdown/dropdown-dates.js","webpack:///./scripts/main/components/dropdown/dropdown-field.js","webpack:///./scripts/main/components/dropdown/dropdown-search.js","webpack:///./scripts/main/components/dropdown/dropdown-select.js","webpack:///./scripts/main/components/elements-page-form/elements-form.js","webpack:///./scripts/main/components/expanded-text.js","webpack:///./scripts/main/components/fast-slider.js","webpack:///./scripts/main/components/filter/filter-form-ajax.js","webpack:///./scripts/main/components/filter/filter-form.js","webpack:///./scripts/main/components/filter/filter-hints.js","webpack:///./scripts/main/components/filter/filter-params.js","webpack:///./scripts/main/components/filter/filter-select.js","webpack:///./scripts/main/components/form-field/datepicker.js","webpack:///./scripts/main/components/form-field/dates-group.js","webpack:///./scripts/main/components/form-field/file-input.js","webpack:///./scripts/main/components/form-field/index.js","webpack:///./scripts/main/components/form-field/input-clear.js","webpack:///./scripts/main/components/form-field/input.js","webpack:///./scripts/main/components/form-field/number-input.js","webpack:///./scripts/main/components/form-field/password-input.js","webpack:///./scripts/main/components/form-field/phone-input.js","webpack:///./scripts/main/components/form-field/select.js","webpack:///./scripts/main/components/form.js","webpack:///./scripts/main/components/img-loading.js","webpack:///./scripts/main/components/link-select.js","webpack:///./scripts/main/components/masonry-grid.js","webpack:///./scripts/main/components/modal.js","webpack:///./scripts/main/components/notification.js","webpack:///./scripts/main/components/page-nav.js","webpack:///./scripts/main/components/placeholder.js","webpack:///./scripts/main/components/private-office/change-edo-status.js","webpack:///./scripts/main/components/private-office/change-email.js","webpack:///./scripts/main/components/private-office/change-password.js","webpack:///./scripts/main/components/private-office/index.js","webpack:///./scripts/main/components/rename-form.js","webpack:///./scripts/main/components/scroll-with-blur.js","webpack:///./scripts/main/components/show-more.js","webpack:///./scripts/main/components/tabs.js","webpack:///./scripts/main/components/toggle-menu.js","webpack:///./scripts/main/components/tooltip.js","webpack:///./scripts/main/consts/delay.js","webpack:///./scripts/main/consts/index.js","webpack:///./scripts/main/consts/media.js","webpack:///./scripts/main/consts/messages.js","webpack:///./scripts/main/consts/regex.js","webpack:///./scripts/main/utils/cookie.js","webpack:///./scripts/main/utils/date-input-mask.js","webpack:///./scripts/main/utils/file-size-format.js","webpack:///./scripts/main/utils/get-btn-from-target.js","webpack:///./scripts/main/utils/make-url.js","webpack:///./scripts/main/utils/numberFormat.js","webpack:///./scripts/std/app.ts","webpack:///./scripts/std/guards.ts","webpack:///./styles/main.scss?1ae8"],"names":["window","app","App","run","config","StdApp","axios","interceptors","request","use","rewriteUrl","handleError","createInstance","create","headers","error","Promise","reject","port","process","MOCKER_PORT","host","MOCKER_HOST","URL","url","location","hostname","pathname","protocol","MOCKER_PROTOCOL","AddToCollection","el","send","method","params","onRequestFinish","isWaiting","data","response","message","showError","ERROR_DEFAULT","console","log","info","querySelector","list","listWrap","empty","createInput","createBtn","searchInput","notification","document","modal","imageId","bindEventListeners","checkCreateValue","addEventListener","e","addBtn","target","preventDefault","dataset","routes","renderWindow","bind","item","toggleCollection","images","name","value","renderItem","searchInList","status","paramsUrl","collectionId","showNotification","remove","insertAdjacentHTML","innerHTML","renderList","Modal","open","dispatchEvent","Event","clearInputs","collections","classList","add","collection","added","title","link","CustomEvent","detail","disabled","hiddenCount","items","querySelectorAll","forEach","textContent","search","RegExp","length","AuthForm","submitAuthForm","form","isValid","Form","fetchForm","formElement","body","reload","redirectUrl","href","formErrorField","findElements","buttonSubmit","closest","validationCheckInputs","element","children","parentElement","filter","child","field","fieldSibling","getSiblings","contains","inputs","input","removeAttribute","setAttribute","checkSiblingsInputs","СonfirmationСode","email","submitConfirmationCode","emailField","emailValue","errorField","errorElement","nextElementSibling","wrapFields","onInput","validateField","Registration","submitRegistrationData","sending","successMessagge","fieldsWrap","setTimeout","getAttribute","registrationStepTwo","buttonFurther","hidePassword","validateInputs","section","siblings","haveError","array","i","passwordGroup","type","removeClass","registrationStepOne","tabButtons","btn","changeOnClickTab","clear","tabsContent","required","tabActive","parentTabsContent","clearForm","RestorePassword","submitRestorePasswordForm","fieldError","emailInput","confirmator","confirmationCode","TIMEOUT_GO_TO_PAGE","SetPassword","submitSetPasswordForm","formContainer","confirmationCodeField","Autocomplete","onValueSelectCustom","getData","text","update","toLowerCase","abortByEnter","inputNode","errorNode","autocompleteInput","realInput","resultsContainer","modalError","initAutocomplete","onSelect","onValueSelect","minLength","emptyMsg","render","currentValue","reg","replacer","highlightedText","label","replace","button","createElement","id","className","fetch","debounceWaitMs","DEBOUNCE_WAIT_MS","preventSubmit","disableAutoSelect","customize","inputRect","container","appendChild","style","position","alert","BigImage","openBtn","src","bigImage","ButtonLink","parent","BuyPackAuthorized","sendOrder","slider","post","successModal","errorModal","BuyPack","namePlaces","btns","Buy","getBuyData","get","prepareBuyData","setRestCounters","submitBtn","sendData","FormData","set","action","download","filename","restCounters","closeModal","openBuyImage","closeBtn","close","selectBtn","selectByUser","selectOtherBtn","checked","setCheckedByUser","buyData","group","other","Array","from","paramName","index","remaining","Number","remainingAfter","licence","licenceText","price","vat","payment","paymentText","btnText","showPrice","noteFinal","note","first","last","innerText","image","blob","imageBlog","imageURL","createObjectURL","anchor","click","removeChild","revokeObjectURL","ColsItems","colsItems","cols","createCols","div","CopyLink","btnCopyInBuffer","copyText","btnCopy","select","execCommand","DeleteConfirmBtn","sendDelete","deleteBtns","modalTitle","collectData","DownloadLink","DropdownCheckbox","buttonGroup","buttonUnGroup","radio","checkbox","clearCheckboxes","selectOption","closeList","onValueChange","setTextUngroup","selectCheckboxes","setTextFromCheckboxes","check","checkFilterIsCLear","submitForm","map","join","DropdownField","elem","DropdownDates","setText","getRealValue","to","prefix","MAX_DATE_LENGHT","textDefault","clearBtn","dropdown","toggleDropdown","isOpen","checkPosition","isSelected","rectMenu","getBoundingClientRect","rectEl","leftMinPosition","x","width","rightMaxPosition","innerWidth","left","CONTAINER_PADDING","DropdownSearch","DropdownSelect","buttons","ElementsPageForm","submitFormWithModal","ExpandedText","openText","closeText","inner","textReal","timer","duration","parseFloat","getComputedStyle","hide","clearTimeout","hasHiddenText","setHeight","containerHeight","clientHeight","haveMore","words","split","pop","lastMore","lastIndexOf","substring","maxHeight","offsetHeight","FastSlider","sendTrack","swiperElement","btnPrev","btnNext","detailBtn","cookieName","initialization","Swiper","Navigation","swiper","initialSlide","slidesPerView","loop","speed","spaceBetween","watchActiveIndex","preventClicks","preventClicksPropagation","navigation","prevEl","nextEl","on","init","setUrlFromCurrentSlide","slideChange","trackView","slides","realIndex","currentSlide","scrollToSlide","event","destroy","buildSlider","slideTo","indexOf","MODAL_WAIT_TIMEOUT","viewed","push","FilterFormAjax","frmData","urlParams","URLSearchParams","removePrefixFromDates","queryString","toString","history","pushState","showResult","results","nav","strict","dates","realValue","printList","settings","baseUrl","pages","page","PageNav","objColsItems","spreadItems","Tooltip","FilterForm","FilterHints","FilterParams","fields","counter","count","FilterSelect","inputReal","Datepicker","options","datepicker","initAirDatepicker","md","$datepicker","$target","dpWidth","clientWidth","rectTarget","rectContainer","top","y","height","picker","AirDatepicker","dateFormat","autoClose","prevHtml","nextHtml","minDate","undefined","maxDate","Input","DatesGroup","minInput","maxInput","initMin","initMax","date","datepickerMax","setDateText","datepickerMin","FileInput","props","fileNameCaptionNode","onChange","files","file","size","initFormFields","Select","PhoneInput","PasswordInput","NumberInput","InputClear","icon","clearInput","checkIsFilled","updateIsFilledStatus","onBeforeInput","getValue","hasLabel","maxLength","slice","pattern","test","str","match","onPaste","replaceBadCharacters","toggleDisabledSubmitButton","btnSubmit","WITHOUT_DIGITS_REGEX","onKeyDown","inputNumbersValue","getInputNumberValues","formattedInputValue","selectionStart","keyCode","pasted","clipboardData","pastedText","tomSelect","TomSelect","hideSelected","controlClass","dropdownClass","no_results","onType","result","modalResult","errorModalText","node","bindInputListeners","hideFieldError","checkInput","isValidPattern","isValidLength","isValidFile","isValidPhone","isValidMail","isValidNumber","isValidPasswords","isValidPasswordByLetter","isValidPasswordByCapital","formNode","regex","phoneInput","MAX_PHONE_LENGTH","mailInput","EMAIL_REGEX","numberInput","min","max","NUMBER_REGEX","fileInput","passwordInput","password","PASSWORD_REGEX","PASSWORD_REGEX_UPPER","passwordGroupError","ImgLoading","img","complete","setLoadedClass","LinkSelect","MasonryGrid","prevScroll","initGrid","all","resolve","onload","onerror","then","masonryObj","Masonry","itemSelector","columnWidth","percentPosition","documentElement","scrollTop","modalName","curModal","focus","autoclose","NOTIFICATION_TIMEOUT_HIDE_INFO_MESSAGE","Notification","cookie","btnCookie","btnClose","autoShow","showByCookie","show","pageInput","objResult","prev","next","shiftStart","shiftEnd","printNav","checkPage","makePrev","makeNext","makeOtherPages","getLinkUrl","pageNum","calcCentralRange","active","hiddenMd","separator","num","last_page","Math","SPRED_PAGES","require","Placeholder","placeholder","setPlaceholder","bindEventlisteners","newPlaceholder","smallPlaceholder","bigPlaceholder","ChangeEdoStatusForm","ChangeEmail","submitChangeEmailForm","ChangePassword","RenameForm","patch","inputName","inputId","btnRenameOpen","ScrollWithBlur","blurContainer","addAndRemoveBlur","isEndOfElement","scrollWidth","scrollLeft","SCROLL_WIDTH_ADDITION","scrollHeight","ShowMore","checkLastPage","scroll","autoloadFirstPage","showPhotoSets","showGalleryItems","Tabs","tabs","tabContentGroup","tabContentList","reduce","acc","tabButton","key","entityType","linkedTabContent","find","tabContent","tabRadio","content","Object","keys","radioButtons","ToggleMenu","closeMenu","openMenu","menu","menus","contentHtml","tippy","theme","allowHTML","maxWidth","placement","popperOptions","strategy","modifiers","fallbackPlacements","altAxis","tether","onCreate","instance","reference","setProps","showOnCreate","trigger","hideOnClick","appendTo","hideTooltipOnScroll","NOTIFICATION_TIMEOUT_SHOW_INFO_MESSAGE","WINDOW_RESIZE_TIMEOUT","DIGITS_WITH_POINT_REGEX","FORMAT_NUMBER_REGEX","FORMAT_DATE_REGEX","getCookie","matches","decodeURIComponent","setCookie","encodeURIComponent","dateInputMask","len","day","month","year","getSizeInKB","bytes","round","getSizeInMB","getFormattedFileSize","sizeInKB","getBtnFromTarget","makeUrl","mapObj","regExpression","matched","replaceBadInNumber","numberFormat","priceFormat","formatter","Intl","NumberFormat","currency","maximumFractionDigits","format","getRealNumber","toFixAfterPoint","number","toFixed","loadConfig","optionName","defaultValue","optionPath","option","Error","lang","BX","uri","segments","segment","languages","getOption","languageCodes","shift","unshift","isJsonMap","object","isArray"],"mappings":"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Z;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uLAAuL,qBAAqB,iFAAiF,SAAS,uBAAuB,QAAQ,yBAAyB;AAC9V;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;;AAEA;AACA,6HAA6H,qBAAqB,+FAA+F,SAAS,sBAAsB,QAAQ,yBAAyB;AACjT;AACA;AACA;AACA,6HAA6H,qBAAqB,gFAAgF,SAAS,sBAAsB,QAAQ,wBAAwB;AACjS;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA,8GAA8G,8DAA8D,uBAAuB,gFAAgF,SAAS,oBAAoB,QAAQ,wBAAwB;AAChV,CAAC,gBAAgB,E;;;;;;;;;;;ACjIjB,iBAAiB,mBAAO,CAAC,uFAA0C;AACnE,yBAAyB,uDAAuD;AAChF,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yGAAyG,0EAA0E,qBAAqB,+FAA+F,SAAS,sBAAsB,QAAQ,wBAAwB;AACtW;AACA,CAAC;AACD,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;;AAEA;AACA,6HAA6H,qBAAqB,+FAA+F,SAAS,sBAAsB,QAAQ,yBAAyB;AACjT;AACA;AACA;AACA,6HAA6H,qBAAqB,gFAAgF,SAAS,sBAAsB,QAAQ,wBAAwB;AACjS;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AAC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","file":"js/main.js","sourcesContent":["import \"@styles/main.scss\";\n\nimport {App} from \"@main/app\";\n\nwindow.app = new App();\nwindow.app.run();\n\nimport \"@main/components/form-field\";\nimport \"@main/components/form-field/input-clear\";\nimport \"@main/components/form-field/dates-group\";\nimport \"@main/components/dropdown/dropdown-field\";\nimport \"@main/components/dropdown/dropdown-select\";\nimport \"@main/components/dropdown/dropdown-checkbox\";\nimport \"@main/components/dropdown/dropdown-dates\";\nimport \"@main/components/dropdown/dropdown-search\";\nimport \"@main/components/tooltip\";\nimport \"@main/components/tabs\";\nimport \"@main/components/placeholder\";\nimport \"@main/components/toggle-menu\";\nimport \"@main/components/show-more\";\nimport \"@main/components/elements-page-form/elements-form.js\";\nimport \"@main/components/authorization/\";\nimport \"@main/components/notification\";\nimport \"@main/components/private-office\";\nimport \"@main/components/buy-pack\";\n\nimport \"@main/components/modal\";\n\nimport \"@main/components/masonry-grid\";\nimport \"@main/components/filter/filter-params\";\nimport \"@main/components/filter/filter-hints\";\nimport \"@main/components/filter/filter-select\";\nimport \"@main/components/filter/filter-form\";\nimport \"@main/components/filter/filter-form-ajax\";\nimport \"@main/components/button-link\";\nimport \"@main/components/link-select\";\nimport \"@main/components/img-loading\";\nimport \"@main/components/expanded-text\";\nimport \"@main/components/buy\";\nimport \"@main/components/fast-slider\";\nimport \"@main/components/big-image\";\nimport \"@main/components/copy-link\";\nimport \"@main/components/rename-form\";\nimport \"@main/components/delete-confirm-btn\";\nimport \"@main/components/add-to-collection\";\nimport \"@main/components/scroll-with-blur\";\nimport \"@main/components/buy-pack-authorized\";\nimport \"@main/components/download-link\";\n","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"add-to-collection__img\\\">\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"image\") || (depth0 != null ? lookupProperty(depth0,\"image\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":14},\"end\":{\"line\":2,\"column\":25}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"alt\") || (depth0 != null ? lookupProperty(depth0,\"alt\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"alt\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":32},\"end\":{\"line\":2,\"column\":41}}}) : helper)))\n    + \"\\\">\\n</div>\\n<div class=\\\"add-to-collection__title\\\">\\n    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":15}}}) : helper)))\n    + \"\\n</div>\\n<div class=\\\"add-to-collection__id\\\">\\n    ID \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":7},\"end\":{\"line\":8,\"column\":15}}}) : helper)))\n    + \"\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"add-to-collection__select-item js-add-to-collection-item\\\" data-collection-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n        <div class=\\\"add-to-collection__select-item-title js-add-to-collection-item-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"added\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":8},\"end\":{\"line\":6,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"    </div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"            <div class=\\\"add-to-collection__select-item-status js-add-to-collection-item-status\\\">Добавлено</div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"collections\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":8,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"add-to-collection__select-item-status js-add-to-collection-item-status\\\">Добавлено</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hidden\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":8},\"end\":{\"line\":25,\"column\":19}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <div class=\\\"js-set-text\\\">\\n                <input class=\\\"radio-button\\\"\\n                       id=\\\"type_\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"\\n                       value=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"\\n                       name=\\\"priceId\\\"\\n                       data-name=\\\"licence\\\"\\n                       type=\\\"radio\\\"\\n                       \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"checked\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":23},\"end\":{\"line\":20,\"column\":59}}})) != null ? stack1 : \"\")\n    + \">\\n                <label for=\\\"type_\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\" class=\\\"buy__options-item\\\">\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"\\n                </label>\\n            </div>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \" checked\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hidden\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":32,\"column\":12},\"end\":{\"line\":46,\"column\":23}}})) != null ? stack1 : \"\");\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <div class=\\\"buy__format-item \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"first\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":45},\"end\":{\"line\":33,\"column\":95}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"last\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":95},\"end\":{\"line\":33,\"column\":143}}})) != null ? stack1 : \"\")\n    + \" js-set-text \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"modal\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":156},\"end\":{\"line\":33,\"column\":196}}})) != null ? stack1 : \"\")\n    + \"\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"modal\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":198},\"end\":{\"line\":33,\"column\":253}}})) != null ? stack1 : \"\")\n    + \">\\n                    <input class=\\\"radio-button\\\"\\n                           id=\\\"format_\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"\\n                           value=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"\\n                           name=\\\"payment\\\"\\n                           data-name=\\\"payment\\\"\\n                           type=\\\"radio\\\"\\n                           \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"checked\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":40,\"column\":27},\"end\":{\"line\":40,\"column\":63}}})) != null ? stack1 : \"\")\n    + \">\\n                    <label for=\\\"format_\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n                        <span class=\\\"buy__format-item-title\\\">\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</span>\\n                        <span class=\\\"buy__format-item-note\\\">\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"noteFinal\") : depth0), depth0))\n    + \"</span>\\n                    </label>\\n                </div>\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \" buy__format-item--first\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    return \" buy__format-item--last\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    return \" js-modal-open\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"data-modal=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"modal\") : depth0), depth0))\n    + \"\\\"\";\n},\"15\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"buy__rest\\\">\\n        <div class=\\\"buy__rest-title\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"exclusive\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(16, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":69,\"column\":35},\"end\":{\"line\":69,\"column\":87}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"price\") || (depth0 != null ? lookupProperty(depth0,\"price\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"price\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":70,\"column\":12},\"end\":{\"line\":70,\"column\":23}}}) : helper)))\n    + \" ₽\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"exclusive\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(18, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":71,\"column\":12},\"end\":{\"line\":73,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"        </div>\\n        <div class=\\\"buy__rest-note\\\">\\n            НДС: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vat\") || (depth0 != null ? lookupProperty(depth0,\"vat\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vat\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":76,\"column\":17},\"end\":{\"line\":76,\"column\":26}}}) : helper)))\n    + \" ₽<br>\\n            с НДС: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"price\") || (depth0 != null ? lookupProperty(depth0,\"price\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"price\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":77,\"column\":19},\"end\":{\"line\":77,\"column\":30}}}) : helper)))\n    + \" ₽\\n        </div>\\n    </div>\\n\";\n},\"16\":function(container,depth0,helpers,partials,data) {\n    return \" buy__rest-title--exclusive\";\n},\"18\":function(container,depth0,helpers,partials,data) {\n    return \"                <span class=\\\"buy__rest-exclusive\\\">эксклюзивная цена</span>\\n\";\n},\"20\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"buy__rest\\\">\\n        <div class=\\\"buy__rest-title\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"remainingAfter\") || (depth0 != null ? lookupProperty(depth0,\"remainingAfter\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"remainingAfter\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":82,\"column\":37},\"end\":{\"line\":82,\"column\":57}}}) : helper)))\n    + \" останется</div>\\n        <div class=\\\"buy__rest-note\\\">фотографий в вашем пакете после покупи</div>\\n    </div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"buy__info\\\">\\n    <div class=\\\"buy__img\\\">\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"image\") || (depth0 != null ? lookupProperty(depth0,\"image\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":18},\"end\":{\"line\":3,\"column\":29}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"alt\") || (depth0 != null ? lookupProperty(depth0,\"alt\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"alt\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":36},\"end\":{\"line\":3,\"column\":45}}}) : helper)))\n    + \"\\\">\\n    </div>\\n    <div class=\\\"buy__text\\\">\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"text\") || (depth0 != null ? lookupProperty(depth0,\"text\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"text\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":8},\"end\":{\"line\":6,\"column\":18}}}) : helper)))\n    + \"\\n    </div>\\n</div>\\n<div class=\\\"buy__options js-btn-group\\\">\\n    <div class=\\\"buy__options-title\\\">Тип лицензии</div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"licence\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":4},\"end\":{\"line\":26,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</div>\\n<div class=\\\"buy__format\\\">\\n    <div class=\\\"buy__options-title\\\">формат покупки</div>\\n    <div class=\\\"buy__format-items js-btn-group\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"payment\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":8},\"end\":{\"line\":47,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </div>\\n</div>\\n<div class=\\\"buy__summary-title\\\">\\n    итого\\n</div>\\n<ul class=\\\"image-detail__props\\\">\\n    <li class=\\\"image-detail__props-item\\\">\\n        <svg class=\\\"image-detail__props-icon\\\">\\n            <use href=\\\"#copyright\\\"></use>\\n        </svg>\\n        <span class=\\\"image-detail__props-text js-set-text-place\\\" data-type=\\\"licence\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"licenceText\") || (depth0 != null ? lookupProperty(depth0,\"licenceText\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"licenceText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":58,\"column\":85},\"end\":{\"line\":58,\"column\":102}}}) : helper)))\n    + \"</span>\\n    </li>\\n    <li class=\\\"image-detail__props-item\\\">\\n        <svg class=\\\"image-detail__props-icon\\\">\\n            <use href=\\\"#single-photo\\\"></use>\\n        </svg>\\n        <span class=\\\"image-detail__props-text js-set-text-place\\\" data-type=\\\"payment\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"paymentText\") || (depth0 != null ? lookupProperty(depth0,\"paymentText\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"paymentText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":64,\"column\":85},\"end\":{\"line\":64,\"column\":102}}}) : helper)))\n    + \"</span>\\n    </li>\\n</ul>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"showPrice\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(15, data, 0),\"inverse\":container.program(20, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":67,\"column\":0},\"end\":{\"line\":85,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<button type=\\\"submit\\\" class=\\\"buy__btn button button--regular button--blue js-buy-submit\\\">\\n    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"btnText\") || (depth0 != null ? lookupProperty(depth0,\"btnText\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"btnText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":87,\"column\":4},\"end\":{\"line\":87,\"column\":17}}}) : helper)))\n    + \"\\n</button>\\n<button type=\\\"button\\\" class=\\\"buy__cancel js-buy-close\\\">отменить</button>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"modal__icon modal__icon--failed-modal\\\">\\n    <svg>\\n        <use href=\\\"#failed-modal-icon\\\"></use>\\n    </svg>\\n</div>\\n<div class=\\\"modal__title js-fail-modal-title\\\">Возникла ошибка</div>\\n<p class=\\\"modal__caption js-fail-modal-text\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"message\") || (depth0 != null ? lookupProperty(depth0,\"message\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"message\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":45},\"end\":{\"line\":7,\"column\":58}}}) : helper)))\n    + \"</p>\\n<div class=\\\"modal__actions\\\">\\n    <button type=\\\"button\\\" class=\\\"button button--red button--regular js-modal-close\\\">попробовать ещё раз</button>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"fast-slider__item swiper-slide js-fast-slider-item\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\" data-url=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"url\") : depth0), depth0))\n    + \"\\\">\\n        <div class=\\\"image-detail\\\">\\n            <div class=\\\"image-detail__image js-modal-open js-modal-open js-big-image-btn\\\" data-big-image=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"imageBig\") : stack1), depth0))\n    + \"\\\" data-modal=\\\"image-modal\\\">\\n                <button class=\\\"image-detail__image-icon button button--loupe button--grey-dark\\\" type=\\\"button\\\">\\n                    <i class=\\\"button__icon\\\">\\n                        <svg width=\\\"24\\\" height=\\\"24\\\">\\n                            <use href=\\\"#loupe\\\"></use>\\n                        </svg>\\n                    </i>\\n                </button>\\n                <img src=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"image\") : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"alt\") : depth0), depth0))\n    + \"\\\">\\n            </div>\\n            <div class=\\\"image-detail__info\\\">\\n                <h1 class=\\\"image-detail__title title--expanded js-expanded-text\\\" data-open-text=\\\"...&nbsp;ещё\\\" data-close-text=\\\" ↑свернуть\\\">\\n                    <span class=\\\"title--expanded__inner js-expanded-text-inner\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"title\") : stack1), depth0))\n    + \"</span>\\n                </h1>\\n                <div class=\\\"image-detail__text\\\">\\n                    <div class=\\\"image-detail__text-inner\\\">\\n                        \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"text\") : stack1), depth0))\n    + \"\\n                    </div>\\n                </div>\\n                <div class=\\\"image-detail__btns\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"downloadAvailable\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":20},\"end\":{\"line\":45,\"column\":27}}})) != null ? stack1 : \"\")\n    + \"                    <button class=\\\"gallery-item__button gallery-item__button-add button button--action button--white js-tooltip js-add-to-collection-btn\\\"\\n                        data-theme=\\\"black\\\"\\n                        data-image-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"\\n                        data-title=\\\"Добавить в коллекцию\\\"\\n                        data-text=\\\"\\\"\\n                        data-placement=\\\"bottom\\\">\\n                        <svg width=\\\"24\\\" height=\\\"24\\\">\\n                            <use href=\\\"#plus\\\"></use>\\n                        </svg>\\n                    </button>\\n                </div>\\n                <a href=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"author\") : stack1)) != null ? lookupProperty(stack1,\"url\") : stack1), depth0))\n    + \"\\\" class=\\\"user image-detail__author\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"author\") : stack1)) != null ? lookupProperty(stack1,\"image\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":58,\"column\":20},\"end\":{\"line\":62,\"column\":27}}})) != null ? stack1 : \"\")\n    + \"                    <div class=\\\"user__info\\\">\\n                        <div class=\\\"user__name\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"author\") : stack1)) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \"</div>\\n                        <div class=\\\"user__role\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"author\") : stack1)) != null ? lookupProperty(stack1,\"role\") : stack1), depth0))\n    + \" →</div>\\n                    </div>\\n                </a>\\n                <ul class=\\\"image-detail__props\\\">\\n                    <li class=\\\"image-detail__props-item color--blue\\\">\\n                        <svg class=\\\"image-detail__props-icon image-detail__props-icon--blue\\\">\\n                            <use href=\\\"#photo-cards\\\"></use>\\n                        </svg>\\n                        <a class=\\\"link link--blue image-detail__props-text\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"photoset\") : stack1)) != null ? lookupProperty(stack1,\"url\") : stack1), depth0))\n    + \"\\\">\\n                            \"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"photoset\") : stack1)) != null ? lookupProperty(stack1,\"title\") : stack1), depth0))\n    + \" →\\n                        </a>\\n                    </li>\\n                    <li class=\\\"image-detail__props-item\\\">\\n                        <svg class=\\\"image-detail__props-icon\\\">\\n                            <use href=\\\"#photo-card\\\"></use>\\n                        </svg>\\n                        <span class=\\\"image-detail__props-text\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"orientation\") : stack1), depth0))\n    + \"</span>\\n                    </li>\\n                    <li class=\\\"image-detail__props-item\\\">\\n                        <svg class=\\\"image-detail__props-icon\\\">\\n                            <use href=\\\"#user-small\\\"></use>\\n                        </svg>\\n                        <span class=\\\"image-detail__props-text\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"peopleType\") : stack1), depth0))\n    + \"</span>\\n                    </li>\\n                    <li class=\\\"image-detail__props-item\\\">\\n                        <svg class=\\\"image-detail__props-icon\\\">\\n                            <use href=\\\"#calendar-simple\\\"></use>\\n                        </svg>\\n                        <span class=\\\"image-detail__props-text\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"date\") : stack1), depth0))\n    + \"</span>\\n                    </li>\\n                    <li class=\\\"image-detail__props-item\\\">\\n                        <svg class=\\\"image-detail__props-icon\\\">\\n                            <use href=\\\"#copyright\\\"></use>\\n                        </svg>\\n                        <span class=\\\"image-detail__props-text\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"licence\") : stack1), depth0))\n    + \"</span>\\n                    </li>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"note\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":101,\"column\":20},\"end\":{\"line\":108,\"column\":27}}})) != null ? stack1 : \"\")\n    + \"                </ul>\\n                <div class=\\\"image-detail__bottom\\\">\\n                    <a href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"urlSimilar\") : depth0), depth0))\n    + \"\\\" class=\\\"button button--white button--medium\\\">\\n                        Смотреть похожие\\n                    </a>\\n                    <div class=\\\"image-detail__id\\\">ID \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"</div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <button\\n                            class=\\\"button button--download button--blue \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"downloadLink\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":72},\"end\":{\"line\":26,\"column\":139}}})) != null ? stack1 : \"\")\n    + \"\\\"\\n                            data-id=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"\\n                            \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"downloadLink\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":28},\"end\":{\"line\":28,\"column\":95}}})) != null ? stack1 : \"\")\n    + \">\\n                            <span>скачать</span>\\n                            <i class=\\\"button__icon\\\">\\n                                <svg width=\\\"24\\\" height=\\\"24\\\">\\n                                    <use href=\\\"#download-arrow\\\"></use>\\n                                </svg>\\n                            </i>\\n                        </button>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"js-download-link\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"js-buy-btn\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"data-url=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"downloadLink\") : depth0), depth0))\n    + \"\\\"\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <button href=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"download\") : depth0)) != null ? lookupProperty(stack1,\"url\") : stack1), depth0))\n    + \"\\\" class=\\\"button button--download button--blue js-modal-open\\\" data-modal=\\\"auth-and-download-modal\\\">\\n                            <span>Войти и скачать</span>\\n                            <i class=\\\"button__icon\\\">\\n                                <svg width=\\\"24\\\" height=\\\"24\\\">\\n                                    <use href=\\\"#download-arrow\\\"></use>\\n                                </svg>\\n                            </i>\\n                        </button>\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <div class=\\\"user__icon user__icon--bordered\\\">\\n                            <img src=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"author\") : stack1)) != null ? lookupProperty(stack1,\"image\") : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"author\") : stack1)) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \"\\\" width=\\\"40\\\" height=\\\"40\\\">\\n                        </div>\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <li class=\\\"image-detail__props-item\\\">\\n                            <svg class=\\\"image-detail__props-icon\\\">\\n                                <use href=\\\"#info\\\"></use>\\n                            </svg>\\n                            <span class=\\\"image-detail__props-text\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"fastView\") : depth0)) != null ? lookupProperty(stack1,\"note\") : stack1), depth0))\n    + \"</span>\\n                        </li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"items\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":119,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <a href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"url\") : depth0), depth0))\n    + \"\\\" class=\\\"gallery-item js-auto-grid-item js-auto-grid-item-new\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n        <img class=\\\"gallery-item__image\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"image\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"alt\") : depth0), depth0))\n    + \"\\\">\\n        <div class=\\\"gallery-item__buttons\\\">\\n            <div class=\\\"gallery-item__button button button--zoom js-modal-open js-fast-view-open js-tooltip\\\"\\n                 data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"\\n                 data-theme=\\\"black\\\"\\n                 data-title=\\\"Быстрый просмотр\\\"\\n                 data-text=\\\"\\\"\\n                 data-placement=\\\"bottom\\\"\\n                 data-modal=\\\"fast-view-modal\\\">\\n                <svg width=\\\"24\\\" height=\\\"30\\\">\\n                    <use href=\\\"#loupe\\\"></use>\\n                </svg>\\n            </div>\\n            <div class=\\\"gallery-item__button gallery-item__button-group button button--action button--grey js-tooltip js-button-link\\\" data-link=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"urlSimilar\") : depth0), depth0))\n    + \"\\\"\\n                 data-theme=\\\"black\\\"\\n                 data-title=\\\"Похожие\\\"\\n                 data-text=\\\"\\\"\\n                 data-placement=\\\"bottom\\\">\\n                <svg width=\\\"24\\\" height=\\\"24\\\">\\n                    <use href=\\\"#image-group\\\"></use>\\n                </svg>\\n            </div>\\n            <div class=\\\"gallery-item__button gallery-item__button-add button button--action button--grey js-tooltip js-add-to-collection-btn\\\"\\n                 data-image-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"\\n                 data-modal=\\\"add-to-collection-modal\\\"\\n                 data-theme=\\\"black\\\"\\n                 data-title=\\\"Добавить в коллекцию\\\"\\n                 data-text=\\\"\\\"\\n                 data-placement=\\\"bottom\\\" >\\n                <svg width=\\\"24\\\" height=\\\"24\\\">\\n                    <use href=\\\"#plus\\\"></use>\\n                </svg>\\n            </div>\\n        </div>\\n        <div class=\\\"gallery-item__description\\\">\\n            <p class=\\\"gallery-item__text\\\">\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"\\n            </p>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"downloadAvailable\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":41,\"column\":12},\"end\":{\"line\":63,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"        </div>\\n    </a>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <div class=\\\"gallery-item__download button button--save js-tooltip \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"downloadLink\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":42,\"column\":82},\"end\":{\"line\":42,\"column\":149}}})) != null ? stack1 : \"\")\n    + \"\\\"\\n                     data-id=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"\\n                     \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"downloadLink\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":44,\"column\":21},\"end\":{\"line\":44,\"column\":88}}})) != null ? stack1 : \"\")\n    + \"\\n                     data-title=\\\"Скачать\\\"\\n                     data-text=\\\"\\\"\\n                     data-theme=\\\"black\\\"\\n                     data-placement=\\\"top\\\">\\n                    <svg width=\\\"24\\\" height=\\\"24\\\">\\n                        <use href=\\\"#download-arrow\\\"></use>\\n                    </svg>\\n                </div>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"js-download-link\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"js-buy-btn\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"data-url=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"downloadLink\") : depth0), depth0))\n    + \"\\\"\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    return \"                <div class=\\\"gallery-item__download button button--save js-tooltip js-modal-open\\\"\\n                     data-modal=\\\"auth-and-download-modal\\\"\\n                     data-title=\\\"Войти и скачать\\\"\\n                     data-text=\\\"\\\"\\n                     data-placement=\\\"top\\\">\\n                    <svg width=\\\"24\\\" height=\\\"24\\\">\\n                        <use href=\\\"#download-arrow\\\"></use>\\n                    </svg>\\n                </div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"items\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":66,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <a href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"prev\") || (depth0 != null ? lookupProperty(depth0,\"prev\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"prev\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":13},\"end\":{\"line\":2,\"column\":23}}}) : helper)))\n    + \"\\\" class=\\\"gallery-pagination__nav button--white gallery-pagination__nav--prev\\\">\\n        <svg width=\\\"16\\\" height=\\\"16\\\">\\n            <use href=\\\"#chevron-left\\\"></use>\\n        </svg>\\n        <span class=\\\"hidden-md\\\">Назад</span>\\n    </a>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"active\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":8},\"end\":{\"line\":19,\"column\":15}}})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <span class=\\\"active button--white gallery-pagination__button gallery-pagination__button--page\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"num\") : depth0), depth0))\n    + \"</span>\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"separator\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":12},\"end\":{\"line\":18,\"column\":19}}})) != null ? stack1 : \"\");\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"                <span class=\\\"button--grey gallery-pagination__button gallery-pagination__button--page gallery-pagination__button--dots hidden-md\\\">...</span>\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <a href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"url\") : depth0), depth0))\n    + \"\\\" class=\\\"button--white gallery-pagination__button gallery-pagination__button--page\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hiddenMd\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":121},\"end\":{\"line\":17,\"column\":160}}})) != null ? stack1 : \"\")\n    + \"\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"num\") : depth0), depth0))\n    + \"</a>\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \" hidden-md\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <a href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"next\") || (depth0 != null ? lookupProperty(depth0,\"next\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"next\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":13},\"end\":{\"line\":23,\"column\":23}}}) : helper)))\n    + \"\\\" class=\\\"gallery-pagination__nav button--white gallery-pagination__nav--next\\\">\\n        <span class=\\\"hidden-md\\\">Вперед</span>\\n        <svg width=\\\"16\\\" height=\\\"16\\\">\\n            <use href=\\\"#chevron-right\\\"></use>\\n        </svg>\\n    </a>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"prev\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":8,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<div class=\\\"gallery-pagination__pages\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"items\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":4},\"end\":{\"line\":20,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"next\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":0},\"end\":{\"line\":29,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"payments-history__block js-payment-block\\\">\\n        <div class=\\\"payments-history__item payments-history__item--date\\\">\\n            <p class=\\\"payments-history__param-name\\\">Дата выставления</p>\\n            <p class=\\\"payments-history__param-value\\\"> \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"date\") : depth0), depth0))\n    + \" </p>\\n        </div>\\n        <div class=\\\"payments-history__item payments-history__item--sum\\\">\\n            <p class=\\\"payments-history__param-name\\\">Сумма документа</p>\\n            <p class=\\\"payments-history__param-value\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"amount\") : depth0), depth0))\n    + \"</p>\\n        </div>\\n        <div class=\\\"payments-history__item payments-history__item--reason\\\">\\n            <p class=\\\"payments-history__param-name\\\">Основание</p>\\n            <p class=\\\"payments-history__param-value\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"basic\") : depth0), depth0))\n    + \"</p>\\n        </div>\\n        <div class=\\\"payments-history__item payments-history__item--act\\\">\\n            <a href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"actUrl\") : depth0), depth0))\n    + \"\\\" class=\\\"button button--blue button--medium payments-history__download-act\\\">Скачать акт</a>\\n        </div>\\n\\n        <div class=\\\"payments-history__item payments-history__item--invoices\\\">\\n            <div class=\\\"payments-history__item-wrapper\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"invoices\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":16},\"end\":{\"line\":23,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"            </div>\\n        </div>\\n    </div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <a href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"url\") : depth0), depth0))\n    + \"\\\" class=\\\"text-nowrap button button--white button--medium\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</a>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"items\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":27,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <a href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"url\") : depth0), depth0))\n    + \"\\\" class=\\\"photo__item js-img-loading\\\">\\n        <img class=\\\"photo__item-img js-img-loading-img\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"image\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"alt\") : depth0), depth0))\n    + \"\\\">\\n        <div class=\\\"photo__item-count\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"count\") : depth0), depth0))\n    + \" фото</div>\\n        <div class=\\\"photo__item-description\\\">\\n            <time class=\\\"photo__item-date\\\" datetime=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"datetime\") : depth0), depth0))\n    + \"\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"date\") : depth0), depth0))\n    + \"</time>\\n            <h2 class=\\\"photo__item-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</h2>\\n            <div class=\\\"photo__item-text\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"text\") : depth0), depth0))\n    + \"</div>\\n        </div>\\n    </a>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"items\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":11,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <h5>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":8},\"end\":{\"line\":2,\"column\":17}}}) : helper)))\n    + \"</h5>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <p>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"text\") || (depth0 != null ? lookupProperty(depth0,\"text\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"text\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":7},\"end\":{\"line\":5,\"column\":15}}}) : helper)))\n    + \"</p>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"title\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"text\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":0},\"end\":{\"line\":6,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import {App as StdApp} from \"@std/app\";\n\nexport class App extends StdApp {\n    constructor(config = {}) {\n        super(config);\n    }\n\n    run() {}\n}\n","import createInstance from \"./instance\";\nimport rewriteUrl from \"./middleware/rewrite-url\";\nimport handleError from \"./middleware/handle-error\";\n\nconst axios = createInstance();\naxios.interceptors.request.use(rewriteUrl, handleError);\n\nexport default axios;\n","import axios from \"axios\"\n\nexport default function createInstance() {\n    return axios.create({\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"X-Requested-With\": \"XMLHttpRequest\",\n            \"Accept\": \"application/json\",\n        },\n    });\n}\n\n","export default function handleError(error) {\n    return Promise.reject(error);\n}\n","export default function rewriteUrl(config) {\n\n    const port = process.env.MOCKER_PORT;\n    let host = process.env.MOCKER_HOST;\n\n    if(!port && !host) {\n        return config;\n    }\n\n    try {\n        host = new URL(config.url).host;\n    } catch {\n\n        if(!host) {\n            host = window.location.hostname;\n        }\n    }\n\n    let url;\n\n    try {\n        url = new URL(config.url).pathname;\n    } catch {\n        url = config.url\n    }\n\n    let protocol = process.env.MOCKER_PROTOCOL;\n\n    if(!protocol) {\n        try {\n            protocol = new URL(config.url).protocol;\n        } catch {\n            protocol = window.location.protocol;\n        }\n    }\n\n    if (port !== \"80\"\n        && port !== \"443\") {\n        url = `${protocol}//${host}:${port}${url}`;\n    } else {\n        url = `${protocol}//${host}${url}`;\n    }\n\n    config.url = url;\n    return config;\n}\n","import {ERROR_DEFAULT} from \"@main/consts/messages\";\nimport axios from \"@main/axios\";\nimport {getBtnFromTarget} from \"@main/utils/get-btn-from-target\";\nimport infoTemplate from \"@partials/add-to-collection/info.handlebars\";\nimport listTemplate from \"@partials/add-to-collection/list.handlebars\";\nimport statusTemplate from \"@partials/add-to-collection/status.handlebars\";\nimport errorMessageRender from \"@partials/callback/callback-error.handlebars\";\nimport {makeUrl} from \"@main/utils/make-url\";\nimport {Modal} from \"@main/components/modal\";\n\n/** Добавление в коллекцию. */\nexport class AddToCollection {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLDivElement} el Блок управления добавлением в коллекцию.\n     *\n     */\n    constructor(el) {\n        this.el = el;\n        this.info = this.el.querySelector(\".js-add-to-collection-info\");\n        this.list = this.el.querySelector(\".js-add-to-collection-list\");\n        this.listWrap = this.el.querySelector(\".js-add-to-collection-wrap\");\n        this.empty = this.el.querySelector(\".js-add-to-collection-empty\");\n        this.createInput = this.el.querySelector(\".js-add-to-collection-create-input\");\n        this.createBtn = this.el.querySelector(\".js-add-to-collection-create-btn\");\n        this.searchInput = this.el.querySelector(\".js-add-to-collection-search-input\");\n        this.notification = document.querySelector(\".js-add-notification\");\n        this.modal = document.querySelector(\".js-modal[data-modal-name='add-to-collection-modal']\");\n        this.imageId = null;\n        this.isWaiting = false;\n        this.bindEventListeners();\n        this.checkCreateValue();\n    }\n\n    /**\n     * Инициализация ивентов клика.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        document.addEventListener(\"click\", (e) => {\n            const addBtn = getBtnFromTarget(e.target, \"js-add-to-collection-btn\");\n            if (addBtn) {\n                e.preventDefault();\n                this.imageId = addBtn.dataset.imageId;\n                const url = makeUrl(routes.getCollectionsForImage, {\n                    \":image_id\": this.imageId\n                });\n                this.send(url, \"GET\", {}, this.renderWindow.bind(this));\n            } else {\n                const item = getBtnFromTarget(e.target, \"js-add-to-collection-item\");\n                if (item) {\n                    this.toggleCollection(item);\n                }\n            }\n        });\n\n        this.createInput.addEventListener(\"input\", () => {\n            this.checkCreateValue();\n        });\n\n        this.createBtn.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            this.send(routes.createCollection, \"POST\", {\n                images: [this.imageId],\n                name: this.createInput.value\n            }, this.renderItem.bind(this));\n        });\n\n        this.searchInput.addEventListener(\"input\", () => {\n            this.searchInList();\n        });\n    }\n\n    toggleCollection(item) {\n        const status = item.querySelector(\".js-add-to-collection-item-status\");\n        const paramsUrl = {\n            \":image_id\": this.imageId,\n            \":collection_id\": item.dataset.collectionId,\n        };\n        if (status) {\n            const url = makeUrl(routes.delFromCollection, paramsUrl);\n            this.send(url, \"DELETE\", {}, this.showNotification.bind(this));\n            status.remove();\n        } else {\n            const url = makeUrl(routes.addToCollection, paramsUrl);\n            this.send(url, \"POST\", {}, this.showNotification.bind(this));\n            item.insertAdjacentHTML(\"beforeend\", statusTemplate({}));\n        }\n    }\n\n    /**\n     * Отрисовать элементы окна по данным с сервера.\n     *\n     * @returns {void}\n     */\n    renderWindow(response) {\n        this.info.innerHTML = infoTemplate(response.data);\n        this.renderList(response);\n        Modal.open(this.modal);\n        this.list.dispatchEvent(new Event(\"updateBlurScroll\"));\n    }\n\n    /**\n     * Отрисовать список коллекций по данным с сервера.\n     *\n     * @returns {void}\n     */\n    renderList(response) {\n        this.clearInputs();\n        if (response.data.collections) {\n            this.listWrap.classList.remove(\"hidden\");\n            this.list.innerHTML = listTemplate(response.data);\n        } else {\n            this.listWrap.classList.add(\"hidden\");\n        }\n    }\n\n    clearInputs() {\n        this.empty.classList.add(\"hidden\");\n        this.searchInput.value = \"\";\n        this.createInput.value = \"\";\n        this.checkCreateValue();\n        this.list.dispatchEvent(new Event(\"updateBlurScroll\"));\n    }\n\n    /**\n     * Отрисовать коллекцию по данным с сервера.\n     *\n     * @returns {void}\n     */\n    renderItem(response) {\n        this.listWrap.classList.remove(\"hidden\");\n        response.data.collection.added = true;\n        response.data.collection.title = this.createInput.value;\n        this.list.insertAdjacentHTML(\"afterbegin\", listTemplate({\n            collections: [response.data.collection]\n        }));\n        this.clearInputs();\n        this.searchInList();\n        this.showNotification(response);\n    }\n\n    /**\n     * Показать уведомление.\n     *\n     * @returns {void}\n     */\n    showNotification(response) {\n        if (response.data.link) {\n            this.notification.dispatchEvent(new CustomEvent(\"showNotification\", {\n                detail: {\n                    message: response.data.message,\n                    link: response.data.link,\n                }\n            }));\n        }\n    }\n\n    /**\n     * Отрисовать список коллекций по данным с сервера.\n     *\n     * @returns {void}\n     */\n    collectionClick(response) {\n        this.searchInput.value = \"\";\n        if (response.data.collections) {\n            this.listWrap.classList.remove(\"hidden\");\n            this.list.innerHTML = listTemplate(response.data);\n        } else {\n            this.listWrap.classList.add(\"hidden\");\n        }\n    }\n\n    /**\n     * Сделать недоступной кнопку если не введено название.\n     *\n     * @returns {void}\n     */\n    checkCreateValue() {\n        this.createBtn.disabled = !this.createInput.value;\n    }\n\n    /**\n     * Поиск в списке коллекций.\n     *\n     * @returns {void}\n     */\n    searchInList() {\n        if (this.searchInput.value) {\n            let hiddenCount  = 0;\n            const items = this.list.querySelectorAll(\".js-add-to-collection-item\");\n            items.forEach((item) => {\n                const title = item.querySelector(\".js-add-to-collection-item-title\");\n                if (title.textContent.search(new RegExp(this.searchInput.value, \"i\")) !== -1) {\n                    item.classList.remove(\"hidden\");\n                } else {\n                    item.classList.add(\"hidden\");\n                    hiddenCount += 1;\n                }\n            });\n            if (hiddenCount === items.length) {\n                this.empty.classList.remove(\"hidden\");\n            }\n        } else {\n            this.list.querySelectorAll(\".hidden\").forEach((item) => {\n                item.classList.remove(\"hidden\");\n            });\n            this.empty.classList.add(\"hidden\");\n        }\n        this.list.dispatchEvent(new Event(\"updateBlurScroll\"));\n    }\n\n    /**\n     * Отправить запрос для получения данных и обновить содержимое окна.\n     *\n     * @param {string} url УРЛ запроса.\n     * @param {string} method Метод запроса.\n     * @param {object} params Параметры запроса.\n     * @param {function} onRequestFinish Действие по завершению запроса.\n     *\n     * @returns {void}\n     */\n    send = async (url, method, params, onRequestFinish) => {\n        if (this.isWaiting) {\n            return;\n        }\n        try {\n            this.isWaiting = true;\n            const response = await axios({\n                url: url,\n                data: params,\n                method: method,\n            });\n            this.isWaiting = false;\n            onRequestFinish(response);\n        } catch (e) {\n            if (e.response && e.response.data?.message) {\n                this.showError(e.response.data.message);\n            } else {\n                this.showError(ERROR_DEFAULT);\n                console.log(e);\n            }\n            this.isWaiting = false;\n        }\n    }\n\n    /**\n     * Вывести ошибку отправки запроса\n     *\n     * @returns {void}\n     */\n    showError(error) {\n        this.el.classList.add(\"error\");\n        this.el.innerHTML = errorMessageRender({message: error});\n    }\n\n}\n\ndocument.querySelectorAll(\".js-add-to-collection\").forEach((el) => new AddToCollection(el));\n","import {Form} from \"@main/components/form\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\n\n/**\n * Компонент формы авторизации\n */\nclass AuthForm {\n    /**\n     * Создается компонент формы авторизации\n     *\n     * @param {Element} el Блок авторизации.\n     */\n    constructor(el) {\n        this.el = el;\n\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск элементов компонента.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.formElement = this.el.querySelector(\".js-auth-form\")\n        this.form = new Form(this.formElement);\n        this.buttonSubmit = this.el.querySelector(\".js-auth-submit\");\n        this.modal = this.formElement.closest(\".js-modal\");\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n\n    bindEventListeners() {\n        this.formElement.addEventListener(\"submit\", this.submitAuthForm.bind(this));\n\n        this.validationCheckInputs(this.formElement);\n    }\n\n    /**\n     * Получение соседних элементов.\n     *\n     * @param {HTMLElement} element Элемент.\n     * @returns {void}\n     */\n    getSiblings(element) {\n        const children = [...element.parentElement.children];\n        return children.filter((child) => child !== element);\n    }\n\n    /**\n     * Проверка всех соседних полей на заполнение.\n     *\n     * @param {HTMLElement} field Элемент.\n     * @returns {void}\n     */\n    checkSiblingsInputs(field) {\n        const fieldSibling = this.getSiblings(field);\n        fieldSibling.forEach(el => {\n            if (el.classList.contains(\"js-form-field\")) {\n                const inputs = [el.querySelector(\".js-form-field-input\")];\n                inputs.forEach(input => {\n                    if (input.value) {\n                        this.buttonSubmit.removeAttribute(\"disabled\");\n                    } else {\n                        this.buttonSubmit.setAttribute(\"disabled\", \"disabled\");\n                    }\n                })\n            }\n        })\n    }\n\n    /**\n     * Валидация полей.\n     *\n     * @param {HTMLElement} element Контент элемента формы\n     * @returns {void}\n     */\n    validationCheckInputs( element) {\n        const inputs = element.querySelectorAll(\"input\");\n        inputs.forEach(input => {\n            const field = input.parentElement;\n            this.checkSiblingsInputs(field);\n\n            input.addEventListener(\"input\", () => {\n                this.checkSiblingsInputs(field);\n            });\n\n            input.addEventListener(\"paste\", () => {\n                this.checkSiblingsInputs(field);\n            });\n\n            input.addEventListener(\"change\", () => {\n                this.checkSiblingsInputs(field);\n            });\n        })\n    }\n\n    /**\n     * Отправка формы авторизации пользователя.\n     * Переход в личный кабинет при успешной оправке.\n     * Вывод ошибок, если неверно указаны данные в форме.\n     *\n     * @param {Event} e Событие, происходящее при отправке формы.\n     * @returns {void}\n     */\n    submitAuthForm = async (e) => {\n        e.preventDefault();\n        if (!this.form.isValid) {\n            return;\n        }\n\n        try {\n            const response = await Form.fetchForm(this.formElement, this.form.url);\n            if(this.modal) {\n                this.modal.classList.remove(\"visible\");\n                document.body.classList.remove(\"prevent-scroll\");\n                window.location.reload();\n            } else {\n                if(response.redirectUrl) {\n                    window.location.href = response.redirectUrl;\n                } else {\n                    window.location.href = \"/\";\n                }\n            }\n        } catch (e) {\n            const formErrorField = this.formElement.querySelector(\".js-form-error-field\");\n            formErrorField.innerHTML = \"\";\n            if(e.response) {\n                if (e.response.data?.message) {\n                    formErrorField.innerHTML = e.response.data.message;\n                } else {\n                    formErrorField.innerHTML = ERROR_DEFAULT;\n                }\n            } else {\n                formErrorField.innerHTML = ERROR_DEFAULT;\n                console.log(e);\n            }\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-auth\").forEach((el) => new AuthForm(el));\n","import {Form} from \"@main/components/form\";\n\n/**\n  Компонент с кодом подтверждения.\n */\nexport class СonfirmationСode {\n    /**\n     * Создается компонент с кодом подтверждения.\n     *\n     * @param {HTMLElement} el Форма кода подтверждения.\n     * @param {String} email адрес электронной почты по которому восстанавливается пароль\n     */\n    constructor(el, email) {\n        this.el = el;\n\n        this.emailValue = email;\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск элементов компонента.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.form = new Form(this.el);\n        this.formElement = this.el;\n        this.wrapFields = this.el.querySelector(\".js-confirmation-code-field\");\n        this.input = this.wrapFields.querySelector(\".js-form-field-input\");\n        this.buttonSubmit = this.el.querySelector(\".js-confirmation-code-submit\");\n        this.emailField = this.el.querySelector(\".js-confirmation-email\");\n    }\n\n    /**\n     * Привязка обработчиков событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"submit\", this.submitConfirmationCode.bind(this));\n\n        this.input.addEventListener(\"input\", () => {\n            this.onInput(this.input);\n        })\n    }\n\n    /**\n     * Валидация полей при вводе.\n     *\n     * @param {HTMLInputElement} input Поле ввода кода.\n     * @returns {void}\n     */\n    onInput(input) {\n        if (this.form.validateField(input)) {\n            input.parentElement.classList.remove(\"error\");\n            this.buttonSubmit.removeAttribute(\"disabled\");\n        } else {\n            input.parentElement.classList.add(\"error\");\n        }\n    }\n\n    /**\n     * Переход к следующей секции после успешного подтверждения кода.\n     * Вывод ошибки при неверном вводе кода.\n     *\n     * @param {Event} e Событие, происходящее при отправке формы.\n     * @returns {void}\n     */\n    submitConfirmationCode = async (e) => {\n        e.preventDefault();\n        if (!this.form.isValid) {\n            return;\n        }\n        this.emailField.value = this.emailValue;\n        const errorField = this.el.querySelector(\".js-confirmation-code-field\");\n        const errorElement = this.el.querySelector(\".js-confirmation-code-error\");\n        try {\n            await Form.fetchForm(this.el, this.form.url);\n            this.formElement.classList.add(\"hidden\");\n\n\n            if (this.formElement.closest(\".js-restore-password\")) {\n                this.el.nextElementSibling.classList.remove(\"hidden\");\n            }\n        } catch (e) {\n            if(e.response) {\n                if(e.response.data?.message) {\n                    errorField.classList.add(\"error\");\n                    errorElement.classList.remove(\"hidden\");\n                    errorElement.innerHTML = e.response.data.message;\n                }\n                errorField.classList.add(\"error\");\n                errorElement.classList.remove(\"hidden\");\n            } else {\n                errorField.classList.add(\"error\");\n                errorElement.classList.remove(\"hidden\");\n                console.log(e);\n            }\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-confirmation-code-page\").forEach((el, email) => new СonfirmationСode(el, email));\n","import {Form} from \"@main/components/form\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\n/**\n * Компонент создания пароля.\n */\nclass Registration {\n    /**\n     * Создается компонент создания пароля.\n     *\n     * @param {Element} el Блок создания пароля.\n     */\n    constructor(el) {\n        this.el = el;\n        this.sending = false;\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск элементов компонента.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.formElement = this.el.querySelector(\".js-registration-form\");\n        this.form = new Form(this.formElement);\n        this.form.url = this.formElement.getAttribute(\"data-url\");\n        this.registrationStepTwo = this.el.querySelector(\".js-registration-step-two\");\n        this.successMessagge= this.el.querySelector(\".js-registration-success\");\n        this.fieldsWrap= this.el.querySelector(\".js-registration-form-section\");\n        this.buttonFurther = this.registrationStepTwo.querySelector(\".js-registration-further\");\n        this.error = this.registrationStepTwo.querySelector(\".js-registration-form-error\");\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.formElement.addEventListener(\"submit\",  (e) => {\n            e.preventDefault();\n            this.hidePassword();\n\n            if (!this.form.isValid) {\n                return;\n            }\n            this.submitRegistrationData();\n        });\n\n        this.validateInputs(this.registrationStepTwo);\n\n\n    }\n\n    /**\n     * Проверяем валидность полей ввода на каждом шаге формы.\n     *\n     * @param {HTMLElement} section Отдельный блок формы.\n     * @returns {void}\n     */\n    validateInputs(section) {\n        const inputs = section.querySelectorAll(\"input\");\n        for(const input of inputs) {\n            input.addEventListener(\"input\", () => {\n                const field = input.closest(\".js-form-field\");\n                const children = [...field.closest(\".js-password-group\").querySelectorAll(\".js-form-field\")];\n                const siblings = children.filter((child) => child !== field);\n                let haveError = false;\n                siblings.forEach(el => {\n                    let array = [el.querySelector(\".js-form-field-input\")];\n                    array.forEach(i => {\n                        if (!(i.value && input.value && this.form.validateField(input) && this.form.validateField(i))) {\n                            haveError = true;\n                        }\n                    })\n                });\n                if (haveError) {\n                    this.buttonFurther.setAttribute(\"disabled\", \"disabled\");\n                } else {\n                    this.buttonFurther.removeAttribute(\"disabled\");\n                }\n            })\n        }\n    }\n\n    /**\n     * Скрыть пароль перед отправкой формы, если он видимый.\n     *\n     * @returns {void}\n     */\n    hidePassword() {\n        const passwordGroup = this.el.querySelector(\".js-password-group\");\n        const inputs = passwordGroup.querySelectorAll(\"input\");\n        inputs.forEach(input => {\n            if (input.type === \"text\") {\n                input.type = \"password\";\n            }\n        })\n    }\n\n    /**\n     * Показать блок с успешной установкой пароля\n     *\n     * Вывести ошибку, если пароль не прошел валидацию\n     *\n     * @returns {void}\n     */\n    submitRegistrationData = async () => {\n\n        if (!this.form.isValid) {\n            return;\n        } else {\n            if (this.sending) {\n                return;\n            }\n            this.sending = true;\n            this.error.classList.add(\"hidden\");\n            try {\n                this.sending = false;\n                const response = await Form.fetchForm(this.formElement, this.form.url);\n                if (response && response.redirectUrl) {\n                    this.successMessagge.classList.remove(\"hidden\");\n                    this.fieldsWrap.classList.add(\"hidden\");\n                    setTimeout(() => {\n                        window.location.href = response.redirectUrl;\n                    }, 5000);\n                } else {\n                    this.error.classList.remove(\"hidden\");\n                    this.error.innerHTML = \"\";\n                    this.error.innerHTML = ERROR_DEFAULT;\n                }\n            } catch (e) {\n                this.error.classList.remove(\"hidden\");\n                this.error.innerHTML = \"\";\n                if(e.response) {\n                    if(e.response.data?.message) {\n                        this.error.innerHTML = e.response.data.message;\n                    } else {\n                        this.error.innerHTML = ERROR_DEFAULT;\n                    }\n                } else {\n                    this.error.innerHTML = ERROR_DEFAULT;\n                    console.log(e);\n                }\n            }\n        }\n    }\n\n\n}\n\ndocument.querySelectorAll(\".js-registration-create-password\").forEach((el) => new Registration(el));\n\n","import \"./auth-form\";\nimport \"./confirmation-code\";\nimport \"./registration\";\nimport \"./restore-password\";\nimport \"./set-password\";\nimport \"./create-password\";\n","import {Form} from \"@main/components/form\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\n/**\n * Компонент регистрации.\n */\nclass Registration {\n    /**\n     * Создается компонент регистрации.\n     *\n     * @param {HTMLDivElement} el Блок регистрации.\n     */\n    constructor(el) {\n        this.el = el;\n        this.sending = false;\n        this.removeClass = this.el.dataset.removeClass;\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск элементов компонента.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.formElement = this.el.querySelector(\".js-registration-form\");\n        this.form = new Form(this.formElement);\n        this.registrationStepOne = this.el.querySelector(\".js-registration-step-one\");\n        this.successMessagge= this.el.querySelector(\".js-registration-success\");\n        this.fieldsWrap= this.el.querySelector(\".js-registration-form-section\");\n        this.tabButtons = this.el.querySelectorAll(\".js-tabs-button\");\n        this.buttonFurther = this.registrationStepOne.querySelector(\".js-registration-further\");\n        this.error = this.registrationStepOne.querySelector(\".js-registration-form-error\");\n        this.inputs = this.el.querySelectorAll(\"input\");\n    }\n\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.formElement.addEventListener(\"submit\",  (e) => {\n            e.preventDefault();\n            if (!this.form.isValid) {\n                return;\n            }\n            this.submitRegistrationData();\n        });\n\n        this.validateInputs(this.registrationStepOne);\n\n        this.tabButtons.forEach(btn => {\n            btn.addEventListener(\"click\", () => {\n                this.changeOnClickTab();\n            });\n        });\n\n        this.formElement.addEventListener(\"clearRegisterForm\", () => {\n            this.clear();\n        });\n\n        this.changeOnClickTab();\n    }\n\n    /**\n     * Очистка полей при переключении активного таба.\n     *\n     * @returns {void}\n     */\n    changeOnClickTab() {\n        const tabsContent = this.el.querySelectorAll(\".js-tabs-content\");\n        this.buttonFurther.setAttribute(\"disabled\", \"disabled\");\n\n        tabsContent.forEach(el => {\n            if (!el.classList.contains(\"active\")) {\n                const inputs = el.querySelectorAll(\"input\");\n                inputs.forEach(input => {\n                    input.value = \"\";\n                    input.required = false;\n                    input.closest(\".js-form-field\").classList.remove(\"error\");\n                })\n            } else {\n                const inputs = el.querySelectorAll(\"input\");\n                inputs.forEach(input => {\n                    input.closest(\".js-form-field\").classList.remove(\"error\");\n                    input.required = true;\n                })\n            }\n        })\n    }\n\n    /**\n     * Проверяем валидность полей ввода\n     * \n     * @param {HTMLElement} section Отдельный блок формы.\n     * @returns {void}\n     */\n    validateInputs(section) {\n        const inputs = section.querySelectorAll(\"input\");\n        for(const input of inputs) {\n            input.addEventListener(\"input\", () => {\n                const field = input.parentElement;\n                const children = [...field.closest(\".fields\").querySelectorAll(\".js-form-field\")];\n                const siblings = children.filter((child) => child !== field);\n                let haveError = false;\n                siblings.forEach(el => {\n                    let array = [el.querySelector(\".js-form-field-input\")];\n                    let tabActive = true;\n                    array.forEach(i => {\n                        const parentTabsContent = i.closest(\".js-tabs-content\");\n                        // проверяем, что i не находится в неактивном табе\n                        if(parentTabsContent) {\n                            if(!parentTabsContent.classList.contains(\"active\")) {\n                                tabActive = false;\n                            }\n                        }\n                        // если tabActive != true, то такое i не влияет на значение haveError\n                        if (!(i.value && input.value && this.form.validateField(input) && this.form.validateField(i)) && tabActive) {\n                            haveError = true;\n                        }\n                    })\n                });\n                if (haveError) {\n                    this.buttonFurther.setAttribute(\"disabled\", \"disabled\");\n                } else {\n                    this.buttonFurther.removeAttribute(\"disabled\");\n                }\n            })\n        }\n    }\n\n    /**\n     * Вывести ошибки, если пользователь с данным телефон или email уже зарегистрирован.\n     *\n     * @returns {void}\n     */\n    submitRegistrationData = async () => {\n        if (this.sending) {\n            return;\n        }\n        this.sending = true;\n        this.error.classList.add(\"hidden\");\n        this.sending = false;\n\n        try {\n            await Form.fetchForm(this.formElement, this.formElement.dataset.url);\n            this.successMessagge.classList.remove(\"hidden\");\n            this.fieldsWrap.classList.add(\"hidden\");\n            if (this.removeClass) {\n                this.el.closest(\".js-modal\").classList.remove(this.removeClass);\n            }\n        } catch (e) {\n            this.error.classList.remove(\"hidden\");\n            this.error.innerHTML = \"\";\n            if(e.response) {\n                if(e.response.data?.message) {\n                    this.error.innerHTML = e.response.data.message;\n                } else {\n                    this.error.innerHTML = ERROR_DEFAULT;\n                }\n            } else {\n                this.error.innerHTML = ERROR_DEFAULT;\n                console.log(e);\n            }\n        }\n    }\n\n    /**\n     * Очистить форму для возможности повторной отправки.\n     *\n     * @returns {void}\n     */\n    clear() {\n        this.form.clearForm();\n        this.successMessagge.classList.add(\"hidden\");\n        this.fieldsWrap.classList.remove(\"hidden\");\n        if (this.removeClass) {\n            this.el.closest(\".js-modal\").classList.add(this.removeClass);\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-registration\").forEach((el) => new Registration(el));\n","import {Form} from \"@main/components/form\";\nimport {СonfirmationСode} from \"@main/components/authorization/confirmation-code\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\n/**\n * Компонент восстановления пароля.\n */\nclass RestorePassword {\n    /**\n     * Создается компонент восстановления пароля.\n     *\n     * @param {Element} el Блок восстановления пароля.\n     */\n    constructor(el) {\n        this.el = el;\n        this.confirmator = null;\n\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск элементов компонента.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.formElement = this.el.querySelector(\".js-restore-password-form\");\n        this.form = new Form(this.formElement);\n        this.buttonSubmit = this.el.querySelector(\".js-restore-password-submit\");\n        this.confirmationCode = this.formElement.parentElement.querySelector(\".js-confirmation-code\");\n        this.emailInput = this.el.querySelector(\".js-restore-by-email\");\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.formElement.addEventListener(\"submit\", this.submitRestorePasswordForm.bind(this));\n\n        this.validateInputs(this.formElement);\n    }\n\n    /**\n     * Проверяем валидность полей ввода\n     *\n     * @param {HTMLElement} section Отдельный блок формы.\n     * @returns {void}\n     */\n    validateInputs(section) {\n        const input = section.querySelector(\".js-form-field-input\");\n        input.addEventListener(\"input\", () => {\n            let haveError = false;\n            if (!(input.value && this.form.validateField(input))) {\n                haveError = true;\n            }\n            if (haveError) {\n                this.buttonSubmit.setAttribute(\"disabled\", \"disabled\");\n            } else {\n                this.buttonSubmit.removeAttribute(\"disabled\");\n            }\n        })\n    }\n\n    /**\n     * Запрос отправки данных формы восстановления пароля.\n     * Открыть форму для ввода кода подтверждения при успешной отправке.\n     * Вывести текст ошибки, в случае ошибки.\n     *\n     * @param {Event} e Событие, происходящее при отправке формы.\n     * @returns {void}\n     */\n    submitRestorePasswordForm = async (e) => {\n        e.preventDefault();\n        const field = this.formElement.querySelector(\".js-form-field\");\n        const fieldError = field.querySelector(\".js-field-error\");\n        this.emailValue = this.emailInput.value;\n        fieldError.classList.add(\"hidden\");\n\n        if (!this.form.isValid) {\n            return;\n        }\n\n        try {\n            await Form.fetchForm(this.formElement, this.form.url);\n            if (!this.confirmator && this.emailValue) {\n                this.confirmator = new СonfirmationСode(this.confirmationCode, this.emailValue);\n                this.formElement.classList.add(\"hidden\");\n                this.confirmationCode.classList.remove(\"hidden\");\n            } else {\n                fieldError.classList.remove(\"hidden\");\n                fieldError.innerHTML = ERROR_DEFAULT;\n            }\n\n        } catch (e) {\n            fieldError.classList.remove(\"hidden\");\n            if(e.response) {\n                if(e.response.data?.message) {\n                    fieldError.innerHTML = e.response.data.message;\n                } else {\n                    fieldError.innerHTML = ERROR_DEFAULT;\n                }\n            } else {\n                fieldError.innerHTML = ERROR_DEFAULT;\n                console.log(e);\n            }\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-restore-password\").forEach((el) => new RestorePassword(el));\n","import {Form} from \"@main/components/form\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\n\n/**\n * @type {{Number}} Время, через которое пользователь будет перенаправлен\n * в личный кабинет после успешной отправки данных с формы установки нового пароля.\n */\nconst TIMEOUT_GO_TO_PAGE = 2000;\n/**\n * Компонент установки нового пароля в процессе восстановления пароля.\n */\nclass SetPassword {\n    /**\n     * Создается компонент установки нового пароля (при восстановлении пароля).\n     *\n     * @param {Element} el - элемент формы установки нового пароля.\n     */\n    constructor(el) {\n        this.el = el;\n        this.form = new Form(this.el);\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск элементов компонента.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.emailField = this.el.querySelector(\".js-set-new-password-email\");\n        this.confirmationCodeField = this.el.querySelector(\".js-set-new-password-confirmation-code\");\n        this.formContainer = this.el.closest(\".js-restore-password\");\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"submit\", this.submitSetPasswordForm.bind(this));\n    }\n\n    /**\n     * Установить новый пароль.\n     * Показать сообщение об успешном восстановлении пароля и перенаправить пользователя в личный кабинет.\n     *\n     * @param {Event} e Событие, происходящее при отправке формы.\n     * @returns {void}\n     */\n    submitSetPasswordForm = async (e) => {\n        e.preventDefault();\n        this.hidePassword();\n\n        if (!this.form.isValid) {\n            return;\n        }\n        this.email = this.formContainer.querySelector(\".js-confirmation-code .js-confirmation-email\").value;\n        this.confirmationCode = this.formContainer.querySelector(\".js-confirmation-code-form-fields .js-confirmation-code-input\").value;\n        this.emailField.value = this.email;\n        this.confirmationCodeField.value = this.confirmationCode;\n\n        try {\n            const response = await Form.fetchForm(this.el, this.form.url);\n            this.el.querySelector(\".js-set-password-block\").classList.add(\"hidden\");\n            this.el.querySelector(\".js-set-password-success\").classList.remove(\"hidden\");\n            if(response.redirectUrl) {\n                setTimeout(() => {\n                    window.location.href = response.redirectUrl;\n                }, TIMEOUT_GO_TO_PAGE);\n            }\n        }\n        catch (e) {\n            const errorElement = this.el.querySelector(\".js-caption-error\");\n            const errorField = errorElement.closest(\".js-form-field\");\n            errorField.classList.add(\"error\");\n            errorElement.innerHTML = \"\";\n            if(e.response) {\n                if (e.response.data?.message) {\n                    errorElement.innerHTML = e.response.data.message;\n                } else {\n                    errorElement.innerHTML = ERROR_DEFAULT;\n                }\n            } else {\n                errorElement.innerHTML = ERROR_DEFAULT;\n                console.log(e);\n            }\n        }\n    }\n\n    /**\n     * Скрыть пароль перед отправкой формы, если он видимый.\n     *\n     * @returns {void}\n     */\n    hidePassword() {\n        const passwordGroup = this.el.querySelector(\".js-password-group\");\n        const inputs = passwordGroup.querySelectorAll(\"input\");\n        inputs.forEach(input => {\n            if (input.type === \"text\") {\n                input.type = \"password\";\n            }\n        })\n    }\n}\n\ndocument.querySelectorAll(\".js-set-new-password\").forEach((el) => new SetPassword(el));\n","/** Поиск с выпадающими подсказками. */\nimport autocomplete from \"autocompleter\";\nimport axios from \"@main/axios\";\nimport {DEBOUNCE_WAIT_MS} from \"@main/consts\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\nimport {Modal} from \"@main/components/modal\";\n\nexport class Autocomplete {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     * @param {function} onValueSelectCustom функция при выборе значения.\n     */\n    constructor(el, onValueSelectCustom) {\n        this.el = el;\n        this.onValueSelectCustom = onValueSelectCustom;\n        this.inputNode = this.el.querySelector(\".js-autocomplete-field\");\n        this.errorNode = this.el.querySelector(\".js-autocomplete-error\");\n        this.autocompleteInput = this.el.querySelector(\".js-autocomplete-input\");\n        this.url = this.autocompleteInput .dataset.url;\n        this.realInput = this.el.querySelector(\".js-autocomplete-real-value\");\n        this.resultsContainer = this.el.querySelector(\".js-autocomplete-results\");\n        this.modalError = document.querySelector(\".js-modal[data-modal-name=\\\"failed-modal\\\"]\");\n        this.abortByEnter = false;\n        this.bindEventListeners();\n        this.initAutocomplete();\n    }\n\n    /**\n     * По enter в поле и прерывании запроса не выводить ошибку.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        window.addEventListener(\"beforeunload\", () => {\n            this.abortByEnter = true;\n        });\n    }\n\n    /**\n     * Инициализация поля с подсказками.\n     *\n     * @returns {void}\n     */\n    initAutocomplete() {\n        autocomplete({\n            onSelect: item => {\n                this.onValueSelect(item);\n            },\n            input: this.autocompleteInput,\n            minLength: 2,\n            emptyMsg: \"Поиск не дал результатов\",\n            render: (item, currentValue) => {\n                const reg = new RegExp(currentValue, \"gi\");\n                const replacer = text => `<span class=\"autocomplete__highlight\">${text}</span>`;\n                const highlightedText = item.label.replace(reg, replacer);\n                const button = document.createElement(\"div\");\n                button.classList.add(\"autocomplete__item\");\n                button.setAttribute(\"data-id\", item.id);\n                button.innerHTML = highlightedText;\n                return button;\n            },\n            className: \"autocomplete__select\",\n            fetch: (text, update) => {\n                this.getData(text, update);\n            },\n            debounceWaitMs: DEBOUNCE_WAIT_MS,\n            preventSubmit: false,\n            disableAutoSelect: true,\n            customize: (input, inputRect, container) => {\n                this.resultsContainer.appendChild(container);\n                container.style.position = \"static\";\n            },\n        });\n    }\n\n    /**\n     * При выборе значения из списка найденного\n     *\n     * @returns {void}\n     */\n    onValueSelect(item) {\n        if (this.realInput) {\n            this.realInput.value = item.id || item.label;\n        }\n        this.autocompleteInput.value = item.label;\n        if (this.onValueSelectCustom) {\n            this.onValueSelectCustom(item);\n        }\n    }\n\n    /**\n     * Получение результатов поиска.\n     *\n     * @returns {void}\n     */\n    getData = async (text, update) => {\n        const params = {\n            text: text.toLowerCase(),\n        };\n\n        try {\n            const response = await axios({\n                url: this.url,\n                params,\n                method: \"get\",\n            });\n            this.abortByEnter = false;\n            update(response.data);\n        } catch (e) {\n            if (!this.abortByEnter) {\n                if (e.response && e.response.data?.message) {\n                    this.showError(e.response.data.message);\n                } else {\n                    this.showError(ERROR_DEFAULT);\n                }\n            }\n            this.abortByEnter = false;\n        }\n    }\n\n    showError(message) {\n        if (this.modalError) {\n            this.modalError.querySelector(\".js-fail-modal-title\").innerHTML = \"Ошибка поиска\";\n            this.modalError.querySelector(\".js-fail-modal-text\").innerHTML = message;\n            Modal.open(this.modalError);\n        } else if (this.inputNode && this.errorNode) {\n            this.inputNode.classList.add(\"error\");\n            this.errorNode.innerHTML = message;\n        } else {\n            alert(message);\n        }\n    }\n}\n","import {getBtnFromTarget} from \"@main/utils/get-btn-from-target\";\n\n/** Модал с увеличенным изображением по клику на кнопку. */\n\nexport class BigImage {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     *\n     */\n    constructor(el) {\n        this.el = el;\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов клика.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        document.addEventListener(\"click\", (e) => {\n            const openBtn = getBtnFromTarget(e.target, \"js-big-image-btn\");\n            if (openBtn) {\n                this.el.src = openBtn.dataset.bigImage;\n            }\n        });\n    }\n}\n\ndocument.querySelectorAll(\".js-big-image\").forEach((el) => new BigImage(el));\n","/** Кнопка, работающая как ссылка. */\nexport class ButtonLink {\n    /**\n     * Конструктор класса.\n     *\n     */\n    constructor() {\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов перерисовки сетки.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        document.addEventListener(\"click\", (e) => {\n            if (e.target.classList.contains(\"js-button-link\")) {\n                e.preventDefault();\n                window.location.href = e.target.dataset.link;\n            }\n            const parent = e.target.closest(\".js-button-link\");\n            if (parent) {\n                e.preventDefault();\n                window.location.href = parent.dataset.link;\n            }\n        });\n    }\n}\n\nnew ButtonLink();\n","import axios from \"@main/axios\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\nimport {Modal} from \"@main/components/modal\";\nimport {makeUrl} from \"@main/utils/make-url\";\n\n/**\n * Отправка заявки на приобретение пакета загрузок\n */\nclass BuyPackAuthorized {\n    /**\n     *\n     * @param {HTMLButtonElement} el - кнопка приобретения пакета\n     */\n    constructor(el) {\n        this.el = el;\n        this.package = this.el.dataset.package;\n        this.errorModal = document.querySelector(\".js-modal[data-modal-name=\\\"failed-modal\\\"]\");\n        this.successModal = document.querySelector(\".js-modal[data-modal-name=\\\"buy-pack-modal\\\"]\");\n        this.slider = this.el.closest(\".js-packages-slider\");\n        this.bindEventListeners();\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"click\", () => {\n            this.sendOrder();\n        });\n    }\n\n    /**\n     * Отправка запроса на покупку пакета загрузок.\n     *\n     * @returns {void}\n     */\n    sendOrder = async () => {\n        if (this.slider.classList.contains(\"waiting\")) {\n            return;\n        }\n        this.slider.classList.add(\"waiting\");\n        this.el.classList.add(\"waiting\");\n        try {\n            try {\n                await axios.post(makeUrl(routes.requestPackage, {\n                    \":package_id\": this.package\n                }));\n                Modal.open(this.successModal);\n            } catch (e) {\n                if (e.response && e.response.data?.message) {\n                    this.showError(e.response.data.message);\n                } else {\n                    this.showError(ERROR_DEFAULT);\n                }\n            }\n        } finally {\n            this.slider.classList.remove(\"waiting\");\n            this.el.classList.remove(\"waiting\");\n        }\n    }\n\n    showError(message) {\n        if (this.errorModal) {\n            this.errorModal.querySelector(\".js-fail-modal-text\").innerHTML = message || ERROR_DEFAULT;\n            Modal.open(this.errorModal);\n        }  else {\n            alert(message);\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-buy-pack-authorized\").forEach((el) => new BuyPackAuthorized(el));\n","import {makeUrl} from \"@main/utils/make-url\";\n\n/** Компонент покупки пакета. */\nexport class BuyPack {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     *\n     */\n    constructor(el) {\n        this.el = el;\n        this.input = this.el.querySelector(\".js-buy-pack-input\");\n        this.namePlaces = this.el.querySelectorAll(\".js-buy-pack-name\");\n        this.btns = document.querySelectorAll(\".js-buy-pack-btn\");\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов выбора значения.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.btns.forEach((btn) => {\n            btn.addEventListener(\"click\", () => {\n                this.namePlaces.forEach((item) => {\n                    item.textContent = btn.dataset.title;\n                });\n                if(this.input) {\n                    this.input.value = btn.dataset.package;\n                    this.el.dataset.url = makeUrl(btn.dataset.url, {\n                        \":package_id\": btn.dataset.package\n                    })\n                }\n                this.el.dispatchEvent(new Event(\"clearRegisterForm\"));\n            });\n        });\n    }\n}\n\ndocument.querySelectorAll(\".js-buy-pack\").forEach((el) => new BuyPack(el));\n","/** Покупка избражения. */\nimport axios from \"@main/axios\";\nimport buyTemplate from \"@partials/buy.handlebars\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\nimport {getBtnFromTarget} from \"@main/utils/get-btn-from-target\";\nimport {makeUrl} from \"@main/utils/make-url\";\n\nexport class Buy {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     *\n     */\n    constructor(el) {\n        this.el = el;\n        this.form = this.el.querySelector(\".js-buy-form\");\n        this.restCounters = document.querySelectorAll(\".js-rest-num\");\n        this.method = this.form.method;\n        this.action = this.form.getAttribute(\"action\");\n        this.data = null;\n        this.id = null;\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов клика и отправки формы.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        document.addEventListener(\"click\", (e) => {\n            const closeModal = getBtnFromTarget(e.target, \"js-keep-buy-opened\");\n            if (!closeModal) {\n                const openBtn = getBtnFromTarget(e.target, \"js-buy-btn\");\n                if (openBtn) {\n                    e.preventDefault();\n                    this.openBuyImage(openBtn);\n                } else {\n                    const closeBtn = getBtnFromTarget(e.target, \"js-buy-close\");\n                    if (closeBtn || !getBtnFromTarget(e.target, \"js-buy-inner\")) {\n                        this.close();\n                    } else {\n                        const selectBtn = getBtnFromTarget(e.target, \"js-set-text\");\n                        if (selectBtn) {\n                            this.selectByUser(selectBtn);\n                        }\n                    }\n                }\n            }\n        });\n\n        this.form.addEventListener(\"submit\", (e) => {\n            e.preventDefault();\n            this.sendData();\n        });\n    }\n\n    /**\n     * Открыть окно и получить для него данные.\n     *\n     * @param {HTMLElement} btn кнопка, вызвавшее открытие окна.\n     * @returns {void}\n     */\n    openBuyImage(btn) {\n        this.el.classList.add(\"opened\");\n        document.body.classList.add(\"prevent-scroll\");\n        this.id = btn.dataset.id;\n        this.getBuyData();\n    }\n\n    /**\n     * Закрыть окно.\n     *\n     * @returns {void}\n     */\n    close() {\n        if (this.el.classList.contains(\"opened\")) {\n            this.el.classList.remove(\"opened\");\n            document.body.classList.remove(\"prevent-scroll\");\n        }\n    }\n\n    /**\n     * Изменить параметры окна по выбору пользователя.\n     *\n     * @param {HTMLElement} btn кнопка, вызвавшее изменение.\n     *\n     * @returns {void}\n     */\n    selectByUser(btn) {\n        if (btn.classList.contains(\"js-modal-open\")) {\n            this.selectOtherBtn(btn);\n        } else {\n            const input = btn.querySelector(\"input\");\n            input.checked = true;\n            this.setCheckedByUser(input.dataset.name, input.value);\n            const buyData = this.prepareBuyData(this.data);\n            this.form.innerHTML = buyTemplate(buyData);\n        }\n    }\n\n    /**\n     * Выбрать другую опцию, если текущая не доступкна.\n     *\n     * @param {HTMLElement} btn кнопка, которую нельзя нажимать.\n     *\n     * @returns {void}\n     */\n    selectOtherBtn(btn) {\n        const group = btn.closest(\".js-btn-group\");\n        const other = Array.from(group.querySelectorAll(\".js-set-text\")).filter((other) => other !== btn && !other.classList.contains(\"js-modal-open\"))[0];\n        this.selectByUser(other);\n    }\n\n    /**\n     * Установить флаг выбора в данных по названию и значению.\n     *\n     * @param {string} paramName Имя параметра.\n     * @param {string} value Значение параметра.\n     *\n     * @returns {void}\n     */\n    setCheckedByUser(paramName, value) {\n        this.data[paramName].forEach((item, index) => {\n            if (item.id === value) {\n                this.data[paramName][index].checked = true;\n            } else {\n                this.data[paramName][index].checked = false;\n            }\n        });\n    }\n\n    /**\n     * Отправить запрос для получения данных для покупки и обновить содержимое окна\n     *\n     * @returns {void}\n     */\n    getBuyData = async () => {\n        if (this.el.classList.contains(\"waiting\")) {\n            return;\n        }\n        this.el.classList.add(\"waiting\");\n        \n        try {\n            try {\n                const response = await axios.get(makeUrl(routes.buyGet, {\n                    \":productId\": this.id\n                }));\n                this.data = this.prepareBuyData(response.data);\n                this.setRestCounters(response.data);\n                this.form.innerHTML = buyTemplate(this.data);\n                this.submitBtn = this.el.querySelector(\".js-buy-submit\");\n            }catch (e) {\n                if (e.response && e.response.data?.message) {\n                    this.showError(e.response.data.message);\n                } else {\n                    this.showError(ERROR_DEFAULT);\n                    console.log(e);\n                }\n            }\n        } finally {\n            this.el.classList.remove(\"waiting\");\n        }\n    }\n\n    /**\n     * Модифицировать данные с сервера под нужны шаблона окна.\n     *\n     * @param {object} data Данные с сервера.\n     *\n     * @returns {object} data Модифицированные данные\n     */\n    prepareBuyData(data) {\n        data.remaining = Number(data.remaining);\n        if (data.remaining > 0) {\n            data.remainingAfter = data.remaining - 1;\n        } else {\n            data.remainingAfter = data.remaining;\n        }\n        data.licence.forEach((item) => {\n            if (item.checked) {\n                data.licenceText = item.text;\n                data.price = item.price;\n                data.vat = item.vat;\n            }\n        });\n        data.payment.forEach((item, index) => {\n            if (item.checked) {\n                data.paymentText = item.text;\n                data.btnText = item.btnText;\n                data.showPrice = item.showPrice;\n            }\n            data.payment[index].noteFinal = item.note.replace(\"#REST#\", data.remaining).replace(\"#PRICE#\", data.price);\n            data.payment[index].first = index === 0;\n            data.payment[index].last = index === (data.payment.length - 1);\n        });\n        return data;\n    }\n\n    /**\n     * Вывести ошибку отправки запроса\n     *\n     * @returns {void}\n     */\n    showError(error) {\n        this.form.innerHTML = \"<div class=\\\"photo__list-error\\\">\" + error + \"</div>\";\n    }\n\n    /**\n     * Отправка данных с формы для полученя ссылки на скачивание.\n     *\n     * @returns {void}\n     */\n    sendData = async () => {\n        if (this.el.classList.contains(\"waiting\")) {\n            return;\n        }\n\n        this.el.classList.add(\"waiting\");\n        this.submitBtn.classList.add(\"waiting\");\n        const params = new FormData(this.form);\n        params.set(\"productId\", this.id);\n        try {\n            try {\n                const response = await axios({\n                    url: makeUrl(this.action, {\n                        \":productId\": this.id\n                    }),\n                    data: params,\n                    method: this.method,\n                });\n                await Buy.download(response.data.link, response.data.filename);\n                this.setRestCounters(response.data);\n            } catch (e) {\n                if (e.response && e.response.data?.message) {\n                    this.showError(e.response.data.message);\n                } else {\n                    this.showError(ERROR_DEFAULT);\n                    console.log(e);\n                }\n            }\n        } finally {\n            this.el.classList.remove(\"waiting\");\n            this.submitBtn.classList.remove(\"waiting\");\n        }\n    }\n\n    /**\n     * Обновить счетчики доступных для скачивания изображений.\n     *\n     * @param {object} data Данные с сервера.\n     * @returns {void}\n     */\n    setRestCounters(data) {\n        if (this.restCounters.length && typeof data.remaining !== \"undefined\") {\n            this.restCounters.forEach((item) => {\n                item.innerText = data.remaining;\n            });\n        }\n    }\n\n    /**\n     * Отправка бинарных данных файла на скачивание.\n     *\n     * @param {string} link Ссылка на изображение.\n     * @param {string} filename Имя файла\n     * @returns {void}\n     */\n    static download = async (link, filename) => {\n        const image = await fetch(link);\n        const imageBlog = await image.blob();\n        const imageURL = URL.createObjectURL(imageBlog);\n\n        const anchor = document.createElement(\"a\");\n        anchor.href = imageURL;\n        anchor.download = filename;\n\n        document.body.appendChild(anchor);\n        anchor.click();\n        document.body.removeChild(anchor);\n        URL.revokeObjectURL(imageURL);\n    }\n}\n\ndocument.querySelectorAll(\".js-buy\").forEach((el) => new Buy(el));\n","import galleryItemTemplate from \"@partials/gallery-item.handlebars\";\n\n/** Класс для распределения массива фотографий по колонкам. */\nexport default class ColsItems {\n    /**\n     * Создает компонент.\n     *\n     * @param {Element} list - DOM элемент списка.\n     */\n    constructor(list, colsItems) {\n        this.list = list;\n        this.colsItems = colsItems;\n        this.cols = list.querySelectorAll(\".js-auto-grid-col\");\n    }\n\n    /**\n     * Очистка списка и создание колонок.\n     *\n     * @returns {void}\n     */\n    clear() {\n        this.list.innerHTML = \"\";\n        this.cols = [];\n    }\n\n    /**\n     * Распределить по колонкам.\n     *\n     * @returns {void}\n     */\n    spreadItems() {\n        this.createCols();\n        this.colsItems.forEach((items, index) => {\n            this.cols[index].insertAdjacentHTML(\"beforeend\", galleryItemTemplate({items: items}));\n        });\n    }\n\n    /**\n     * Cоздание колонок.\n     *\n     * @returns {void}\n     */\n    createCols() {\n        if (!this.cols.length) {\n            for (let i = 1; i <= this.colsItems.length; i++) {\n                const div = document.createElement(\"div\");\n                div.classList.add(\"js-auto-grid-col\");\n                this.list.appendChild(div);\n            }\n            this.cols = this.list.querySelectorAll(\".js-auto-grid-col\");\n        }\n    }\n}\n","/** Скопировать ссылку. */\nexport class CopyLink {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLInputElement} input Поле ввода для ссылки.\n     *\n     */\n    constructor(input) {\n        this.input = input;\n        this.btnCopyInBuffer = document.querySelector(\".js-copy-link-buffer\");\n        this.copyText = this.btnCopyInBuffer.dataset.copyText || \"Скопировано\";\n        this.btnCopy = document.querySelectorAll(\".js-copy-link-btn\");\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов копирования ссылки.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.btnCopy.forEach((btn) => {\n            btn.addEventListener(\"click\", () => {\n                this.input.value = btn.dataset.link;\n            });\n        });\n\n        this.btnCopyInBuffer.addEventListener(\"click\", () => {\n            this.input.select();\n            document.execCommand(\"copy\");\n            this.btnCopyInBuffer.textContent = this.copyText;\n            this.btnCopyInBuffer.classList.remove(\"button--black\");\n            this.btnCopyInBuffer.classList.add(\"button--blue\");\n        });\n    }\n}\n\ndocument.querySelectorAll(\".js-copy-link-input\").forEach((el) => new CopyLink(el));\n","import {ERROR_DEFAULT} from \"@main/consts/messages\";\nimport axios from \"@main/axios\";\nimport errorMessageRender from \"@partials/callback/callback-error.handlebars\";\nimport {makeUrl} from \"@main/utils/make-url\";\n\n/** Удаление с подтверждением. */\nexport class DeleteConfirmBtn {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLButtonElement} btn Кнопка подтверждения удаления.\n     *\n     */\n    constructor(btn) {\n        this.btn = btn;\n        this.deleteBtns = document.querySelectorAll(\".js-delete-btn\");\n        this.modalTitle = document.querySelector(\".js-delete-modal-title\");\n        this.error = this.btn.closest(\".js-modal-content\");\n        this.url = null;\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация ивентов клика для вызова подтверждения и сбора данных и клика отправки данных после подтверждения.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.deleteBtns.forEach((btn) => {\n            btn.addEventListener(\"click\", (e) => {\n                e.preventDefault();\n                this.collectData(btn);\n            });\n        });\n\n        this.btn.addEventListener(\"click\", this.sendDelete.bind(this));\n    }\n\n    /**\n     * Сбор данных с кнопки.\n     *\n     * @returns {void}\n     */\n    collectData(btn) {\n        if (btn.dataset.imageId && btn.dataset.collectionId) {\n            this.url = makeUrl(routes.delFromCollection, {\n                \":image_id\": btn.dataset.imageId || \"\",\n                \":collection_id\": btn.dataset.collectionId || \"\",\n            });\n        } else {\n            this.url = makeUrl(routes.delCollection, {\n                \":collection_id\": btn.dataset.collectionId || \"\",\n            });\n        }\n        this.modalTitle.textContent = btn.dataset.modalTitle;\n    }\n\n    /**\n     * Отправка формы с новым имененем. В случае успеха - перезагрузить страницу\n     *\n     * @param {Event} e Событие, происходящее при отправке формы.\n     * @returns {void}\n     */\n    sendDelete = async (e) => {\n        e.preventDefault();\n        if (this.btn.classList.contains(\"waiting\")) {\n            return;\n        }\n        this.btn.classList.add(\"waiting\");\n        try {\n            try {\n                const response = await axios.delete(this.url);\n                window.location.href = response.data.redirectUrl;\n            }catch (e) {\n                if (e.response && e.response.data?.message) {\n                    this.showError(e.response.data.message);\n                } else {\n                    this.showError(ERROR_DEFAULT);\n                    console.log(e);\n                }\n            }\n        } finally {\n            this.btn.classList.remove(\"waiting\");\n        }\n    }\n\n    /**\n     * Вывести ошибку отправки запроса\n     *\n     * @returns {void}\n     */\n    showError(error) {\n        this.error.innerHTML = errorMessageRender({message: error});\n    }\n\n}\n\ndocument.querySelectorAll(\".js-delete-confirm-btn\").forEach((el) => new DeleteConfirmBtn(el));\n","/** Скачивание избражения. */\nimport axios from \"@main/axios\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\nimport {makeUrl} from \"@main/utils/make-url\";\nimport {Buy} from \"@main/components/buy\";\nimport {Modal} from \"@main/components/modal\";\n\nexport class DownloadLink {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     *\n     */\n    constructor(el) {\n        this.el = el;\n        this.url = makeUrl(this.el.dataset.url, {\n            \":productId\": this.el.dataset.id\n        });\n        this.modalError = document.querySelector(\".js-modal[data-modal-name=\\\"failed-modal\\\"]\");\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов клика и отправки запроса на скачивание.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            this.sendData();\n        });\n    }\n\n    /**\n     * Отправка данных для полученя ссылки на скачивание.\n     *\n     * @returns {void}\n     */\n    sendData = async () => {\n        if (this.el.classList.contains(\"waiting\")) {\n            return;\n        }\n\n        this.el.classList.add(\"waiting\");\n        try {\n            try {\n                const response =  await axios.post(this.url);\n                await Buy.download(response.data.link, response.data.filename);\n            } catch (e) {\n                if (e.response && e.response.data?.message) {\n                    this.showError(e.response.data.message);\n                } else {\n                    this.showError(ERROR_DEFAULT);\n                    console.log(e);\n                }\n            }\n        } finally {\n            this.el.classList.remove(\"waiting\");\n        }\n    }\n\n    /**\n     * Вывести ошибку отправки запроса\n     * @param {string} message\n     * @returns {void}\n     */\n    showError(message) {\n        if (this.modalError) {\n            this.modalError.querySelector(\".js-fail-modal-title\").innerHTML = \"Ошибка скачивания\";\n            this.modalError.querySelector(\".js-fail-modal-text\").innerHTML = message;\n            Modal.open(this.modalError);\n        } else {\n            alert(message);\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-download-link\").forEach((el) => new DownloadLink(el));\n","/** Выпадающий список с выбором опций. */\nimport DropdownField from \"@main/components/dropdown/dropdown-field\";\n\nexport default class DropdownCheckbox extends DropdownField {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     */\n    constructor(el) {\n        super(el);\n        this.buttonGroup = this.el.querySelector(\".js-dropdown-select-button-group\");\n        this.buttonUnGroup = this.el.querySelector(\".js-dropdown-select-button-ungroup\");\n        this.radio = Array.from(this.el.querySelectorAll(\".js-radio\"));\n        this.checkbox = Array.from(this.el.querySelectorAll(\".js-checkbox\"));\n\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        super.bindEventListeners();\n\n        this.buttonUnGroup.addEventListener(\"click\", () => {\n            this.clearCheckboxes();\n            this.selectOption(this.buttonUnGroup);\n            this.closeList();\n            this.onValueChange();\n            this.setTextUngroup();\n        });\n\n        this.buttonGroup.addEventListener(\"click\", () => {\n            this.selectCheckboxes();\n            this.selectOption(this.buttonGroup);\n            this.closeList();\n            this.onValueChange();\n            this.setTextFromCheckboxes();\n        });\n\n        this.checkbox.forEach((checkbox) => {\n            checkbox.addEventListener(\"change\", () => {\n                if (this.checkbox.filter((check) => check.checked).length) {\n                    this.selectOption(this.buttonGroup);\n                    this.setTextFromCheckboxes();\n                } else {\n                    this.selectOption(this.buttonUnGroup);\n                    this.setTextUngroup();\n                }\n                this.onValueChange();\n            });\n        });\n    }\n\n    /**\n     * Выбор опции селектбокса.\n     *\n     * @param {HTMLElement} button Текущая опция селекбокса.\n     * @returns {void}\n     */\n    selectOption(button) {\n        this.el.classList.add(\"selected\");\n        document.querySelector(\"#\" + button.getAttribute(\"for\")).checked = true;\n    }\n\n    /**\n     * Закрыть выпадающий списко.\n     *\n     * @returns {void}\n     */\n    closeList() {\n        this.el.classList.remove(\"open\");\n    }\n\n    /**\n     * При изменении значения отправить аякс формы и проверить заполненность фильтра\n     *\n     * @returns {void}\n     */\n    onValueChange() {\n        this.form.dispatchEvent(new Event(\"submitAjax\"));\n        this.checkFilterIsCLear();\n    }\n\n    /**\n     * Проверить заполненность поля\n     *\n     * @returns {boolean}\n     */\n    isSelected() {\n        return this.radio.filter((radio) => radio.checked).length || this.checkbox.filter((check) => check.checked).length > 0;\n    }\n\n    /**\n     * Очистить значение\n     *\n     * @param {boolean} submitForm Флаг отправить данные формы или нет.\n     * @returns {void}\n     */\n    clear(submitForm) {\n        super.clear(submitForm);\n        this.radio.forEach((radio) => {\n            radio.checked = false;\n        });\n        this.clearCheckboxes();\n        if (submitForm) {\n            this.form.dispatchEvent(new Event(\"submitAjax\"));\n        }\n    }\n\n    /**\n     * Снять отметку с чекбоксов\n     *\n     * @returns {void}\n     */\n    clearCheckboxes() {\n        this.checkbox.forEach((checkbox) => {\n            checkbox.checked = false;\n        });\n    }\n\n    /**\n     * Выбрать все чекбоксы\n     *\n     * @returns {void}\n     */\n    selectCheckboxes() {\n        this.checkbox.forEach((checkbox) => {\n            checkbox.checked = true;\n        });\n    }\n\n    /**\n     * Установить текстовое отображение если группа не выбрана.\n     *\n     * @returns {void}\n     */\n    setTextUngroup() {\n        this.text.innerText = this.buttonUnGroup.innerText;\n    }\n\n    /**\n     * Установить текстовое отображение выбранных значений.\n     *\n     * @returns {void}\n     */\n    setTextFromCheckboxes() {\n        this.text.innerText = this.buttonGroup.innerText + \": \" + this.checkbox.filter((check) => check.checked).map(check => check.dataset.text).join(\", \");\n    }\n}\n\ndocument.querySelectorAll(\".js-dropdown-checkbox\").forEach((elem) => new DropdownCheckbox(elem));\n","/** Выпадающий блок с выбором дат. */\nimport DropdownField from \"@main/components/dropdown/dropdown-field\";\nimport {dateInputMask} from \"@main/utils/date-input-mask\";\nimport {MAX_DATE_LENGHT} from \"@main/consts\";\n\nexport default class DropdownDates extends DropdownField {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     */\n    constructor(el) {\n        super(el);\n        this.inputs = Array.from(this.el.querySelectorAll(\".js-date-input\"));\n\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        super.bindEventListeners();\n\n        this.el.addEventListener(\"setDropdownText\", () => {\n            this.setText();\n        });\n\n        this.inputs.forEach((input) => {\n            dateInputMask(input);\n            input.addEventListener(\"change\", () => {\n                if (input.value) {\n                    this.setText();\n                } else {\n                    this.clear();\n                }\n            });\n        });\n    }\n\n    /**\n     * Проверить заполненность поля\n     *\n     * @returns {boolean}\n     */\n    isSelected() {\n        return this.inputs.filter((input) => !!DropdownDates.getRealValue(input)).length > 0;\n    }\n\n    /**\n     * Очистить значение\n     *\n     * @param {boolean} submitForm Флаг отправить данные формы или нет.\n     * @returns {void}\n     */\n    clear(submitForm) {\n        super.clear(submitForm);\n        this.inputs.forEach((input) => {\n            input.value = \"\";\n        });\n        if (submitForm) {\n            this.form.dispatchEvent(new Event(\"submitAjax\"));\n        }\n    }\n\n    /**\n     * Установить текстовое значение поля выбора\n     *\n     * @returns {void}\n     */\n    setText() {\n        const from = DropdownDates.getRealValue(this.inputs[0]);\n        const to = DropdownDates.getRealValue(this.inputs[1]);\n        if (from || to) {\n            this.el.classList.add(\"selected\");\n            if (from && to) {\n                this.text.innerHTML = from + \" — \" + to;\n            } else {\n                if (from) {\n                    this.text.innerHTML = this.inputs[0].value;\n                }\n                if (to) {\n                    this.text.innerHTML = this.inputs[1].value;\n                }\n            }\n        } else {\n            this.el.classList.remove(\"selected\");\n            this.text.innerHTML = this.text.dataset.text;\n        }\n        this.form.dispatchEvent(new Event(\"submitAjax\"));\n        this.checkFilterIsCLear();\n    }\n\n    /**\n     * Вернуть дату без префикса\n     *\n     * @param {HTMLInputElement} input Поле ввода даты.\n     * @returns {string}\n     */\n    static getRealValue(input) {\n        const prefix = input.dataset.prefix || \"\";\n        let value = input.value.replace(prefix, \"\");\n        if (value.length < MAX_DATE_LENGHT) {\n            input.value = \"\";\n            return \"\";\n        }\n        return value;\n    }\n}\n\ndocument.querySelectorAll(\".js-dropdown-dates\").forEach((elem) => new DropdownDates(elem));\n","/** Базовый класс выпадающего поля. */\nimport {CONTAINER_PADDING} from \"@main/consts\";\n\nexport default class DropdownField {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.btn = this.el.querySelector(\".js-dropdown-field-btn\");\n        this.text = this.el.querySelector(\".js-dropdown-field-text\");\n        this.textDefault = this.text.dataset.text;\n        this.clearBtn = this.el.querySelector(\".js-dropdown-field-clear\");\n        this.filter = this.el.closest(\".js-filter-params\");\n        this.dropdown = this.el.querySelector(\".js-dropdown-block\");\n        this.form = this.el.closest(\".js-filter-form\");\n    }\n\n    /**\n     * Инициализация эвентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.btn.addEventListener(\"click\", (e) => {\n            if (e.target.classList.contains(\".js-dropdown-field-clear\") || e.target.closest(\".js-dropdown-field-clear\")) {\n                this.clear(true);\n            } else {\n                this.toggleDropdown();\n            }\n        });\n\n        this.clearBtn.addEventListener(\"click\", () => {\n            this.clear(true);\n        });\n\n        document.addEventListener(\"mouseup\", (e) => {\n            if (!e.target.classList.contains(\".js-dropdown-field\")\n                && !e.target.closest(\".js-dropdown-field\")\n                && !e.target.closest(\".air-datepicker\")\n            ) {\n                this.close();\n            }\n        });\n\n        this.el.addEventListener(\"closeDropdownField\", () => {\n            this.close();\n        });\n\n        this.el.addEventListener(\"clearDropdownField\", () => {\n            this.clear(false);\n        });\n    }\n\n    /**\n     * Переключение выпадающего списка.\n     *\n     * @returns {void}\n     */\n    toggleDropdown() {\n        const isOpen = this.el.classList.contains(\"open\");\n\n        if (isOpen) {\n            this.close();\n        } else {\n            document.querySelectorAll(\".js-dropdown-field\").forEach((item) => item.dispatchEvent(new Event(\"closeDropdownField\")));\n            this.checkPosition();\n            this.el.classList.add(\"open\");\n        }\n    }\n\n    /**\n     * Закрыть выпадающее поле, проверить заполненность и добавить класс заполненности\n     *\n     * @returns {void}\n     */\n    close() {\n        this.el.classList.remove(\"open\");\n        if (this.isSelected()) {\n            this.el.classList.add(\"selected\");\n        }\n        this.checkFilterIsCLear();\n    }\n\n    /**\n     * Проверить заполненность поля\n     *\n     * @returns {boolean}\n     */\n    isSelected() {\n    }\n\n    /**\n     * Очистить значение\n     *\n     * @param {boolean} submitForm Флаг отправить данные формы или нет.\n     * @returns {void}\n     */\n    clear(submitForm) {\n        this.text.innerHTML = this.textDefault;\n        this.el.classList.remove(\"selected\");\n        this.el.classList.remove(\"open\");\n        if (submitForm) {\n            this.checkFilterIsCLear();\n        }\n    }\n\n    checkFilterIsCLear() {\n        if (this.filter) {\n            this.filter.dispatchEvent(new Event(\"checkFilterIsCLear\"));\n        }\n    }\n\n    /**\n     * Проверить позицию выпадающего элемента и переместить его направо, если не влазит в экран.\n     *\n     * @returns {void}\n     */\n    checkPosition() {\n        const rectMenu = this.dropdown.getBoundingClientRect();\n        const rectEl = this.el.getBoundingClientRect();\n        const leftMinPosition = rectEl.x - rectMenu.width;\n        const rightMaxPosition = rectEl.x + rectMenu.width;\n        if (leftMinPosition < 0 && rightMaxPosition > window.innerWidth) {\n            this.dropdown.classList.remove(\"right\");\n            this.dropdown.style.left = (-1 * rectEl.x + CONTAINER_PADDING) + \"px\";\n        } else if (rightMaxPosition > window.innerWidth) {\n            this.dropdown.classList.add(\"right\");\n            this.dropdown.removeAttribute(\"style\");\n        } else {\n            this.dropdown.classList.remove(\"right\");\n            this.dropdown.removeAttribute(\"style\");\n        }\n    }\n}\n","/** Выпадающий блок с поиском. */\nimport DropdownField from \"@main/components/dropdown/dropdown-field\";\nimport {Autocomplete} from \"@main/components/autocomplete\";\n\nexport default class DropdownSearch extends DropdownField {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     */\n    constructor(el) {\n        super(el);\n        this.url = this.el.dataset.url;\n        this.prefix = this.text.dataset.prefix;\n        this.autocompleteInput = this.el.querySelector(\".js-autocomplete-input\");\n        this.realInput = this.el.querySelector(\".js-autocomplete-real-value\");\n        this.initAutocomplete();\n\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        super.bindEventListeners();\n    }\n\n    /**\n     * Инициализация поля с подсказками.\n     *\n     * @returns {void}\n     */\n    initAutocomplete() {\n        new Autocomplete(this.el, this.onValueSelect.bind(this));\n    }\n\n    /**\n     * При выборе значения из списка найденного отправить форму.\n     *\n     * @returns {void}\n     */\n    onValueSelect(item) {\n        this.text.innerHTML = this.prefix + item.label;\n        this.el.classList.add(\"selected\");\n        this.el.classList.remove(\"open\");\n        this.form.dispatchEvent(new Event(\"submitAjax\"));\n        this.checkFilterIsCLear();\n    }\n\n    /**\n     * Проверить заполненность поля\n     *\n     * @returns {boolean}\n     */\n    isSelected() {\n        return !!this.realInput.value;\n    }\n\n    /**\n     * Очистить значение\n     *\n     * @param {boolean} submitForm Флаг отправить данные формы или нет.\n     * @returns {void}\n     */\n    clear(submitForm) {\n        super.clear(submitForm);\n        this.autocompleteInput.value = \"\";\n        this.realInput.value = \"\";\n        if (submitForm) {\n            this.form.dispatchEvent(new Event(\"submitAjax\"));\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-dropdown-search\").forEach((elem) => new DropdownSearch(elem));\n","/** Выпадающий список с выбором опций. */\nimport DropdownField from \"@main/components/dropdown/dropdown-field\";\n\nexport default class DropdownSelect extends DropdownField {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     */\n    constructor(el) {\n        super(el);\n        this.buttons = Array.from(this.el.querySelectorAll(\".js-dropdown-select-button\"));\n        this.radio = Array.from(this.el.querySelectorAll(\".js-radio\"));\n\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        super.bindEventListeners();\n\n        this.buttons.forEach((button) => {\n            button.addEventListener(\"click\", () => {\n                this.selectOption(button);\n            });\n        });\n    }\n\n    /**\n     * Выбор опции селектбокса.\n     *\n     * @param {HTMLElement} button Текущая опция селекбокса.\n     * @returns {void}\n     */\n    selectOption(button) {\n        const text = button.dataset.text || button.innerText;\n        this.el.classList.remove(\"open\");\n        this.el.classList.add(\"selected\");\n        this.text.innerText = text;\n        document.querySelector(\"#\" + button.getAttribute(\"for\")).checked = true;\n        this.form.dispatchEvent(new Event(\"submitAjax\"));\n        this.checkFilterIsCLear();\n    }\n\n    /**\n     * Проверить заполненность поля\n     *\n     * @returns {boolean}\n     */\n    isSelected() {\n        return this.radio.filter((radio) => radio.checked).length > 0;\n    }\n\n    /**\n     * Очистить значение\n     *\n     * @param {boolean} submitForm Флаг отправить данные формы или нет.\n     * @returns {void}\n     */\n    clear(submitForm) {\n        super.clear(submitForm);\n        this.radio.forEach((radio) => {\n            radio.checked = false;\n            radio.removeAttribute(\"checked\");\n        });\n        if (submitForm) {\n            this.form.dispatchEvent(new Event(\"submitAjax\"));\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-dropdown-select\").forEach((elem) => new DropdownSelect(elem));\n","import {Form} from \"@main/components/form\";\n\n/**\n * Создается компонент стандартной формы.\n *\n * @param {object} props - Объект всех свойств конструктора.\n */\n\nclass ElementsPageForm {\n\n    constructor(el) {\n        this.el = el;\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск элементов компонента.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.formElement = this.el.querySelector(\".js-elements-page-form\");\n        this.form = new Form(this.formElement);\n        this.modal = document.querySelector(\".js-modal[data-modal-name='success-modal']\");\n    }\n\n    /**\n     * Привязка обработчиков событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"submit\", (e) => {\n            this.form.submitFormWithModal(e, this.modal);\n        });\n    }\n    \n\n}\n\ndocument.querySelectorAll(\".js-element-form\").forEach((el) => new ElementsPageForm(el));\n","/** Разворачивающийся текст. */\nexport class ExpandedText {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     *\n     */\n    constructor(el) {\n        this.el = el;\n        this.openText = this.el.dataset.openText;\n        this.closeText = this.el.dataset.closeText;\n        this.inner = this.el.querySelector(\".js-expanded-text-inner\");\n        this.textReal = this.inner.innerHTML;\n        this.timer = null;\n        this.duration = parseFloat(getComputedStyle(this.el)[\"transitionDuration\"]) * 1000;\n        this.bindEventListeners();\n        if (!this.el.closest(\".js-modal\")) {\n            this.hide();\n        }\n    }\n\n    /**\n     * Инициализация эвентов разворачивания/сворачивания, ресайза.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"click\", () => {\n            clearTimeout(this.timer);\n            if (this.el.classList.contains(\"opened\")) {\n                this.el.classList.remove(\"opened\");\n                this.el.removeAttribute(\"style\");\n                this.timer = setTimeout(() => {\n                    this.hide();\n                }, this.duration);\n            } else if (this.hasHiddenText()) {\n                this.inner.innerHTML = this.textReal;\n                this.el.classList.add(\"opened\");\n                this.setHeight();\n            }\n        });\n\n        window.addEventListener(\"resize\", () => {\n            if (this.el.classList.contains(\"opened\")) {\n                this.setHeight();\n            } else {\n                this.hide();\n            }\n        }, true);\n\n        this.el.addEventListener(\"hideExpandedText\", () => {\n            if (!this.el.classList.contains(\"opened\")) {\n                this.hide();\n            }\n        });\n    }\n\n    /**\n     * Проверить, что виден полностью.\n     *\n     * @returns {void}\n     */\n    hide() {\n        this.inner.innerHTML = this.textReal;\n        const containerHeight = this.el.clientHeight;\n        const haveMore = (this.inner.clientHeight > containerHeight);\n        while (this.inner.clientHeight > containerHeight) {\n            let words = this.inner.innerText.split(\" \");\n            words.pop();\n            this.inner.innerText = words.join(\" \") + this.openText;\n        }\n        if (haveMore && this.openText) {\n            const lastMore = this.inner.innerText.lastIndexOf(this.openText);\n            this.inner.innerHTML = this.inner.innerText.substring(0, lastMore)\n                + this.openText.replace(\"...\", \"...<span class='expanded-link js-expanded-link'>\")\n                + \"</span>\";\n            this.el.classList.add(\"active\");\n        } else {\n            this.el.classList.remove(\"active\");\n        }\n    }\n\n    /**\n     * Проверяет весь ли текст влазит в блок.\n     *\n     * @returns {boolean}\n     */\n    hasHiddenText() {\n        const containerHeight = this.el.clientHeight;\n        this.inner.innerHTML = this.textReal;\n        return this.inner.clientHeight > containerHeight;\n    }\n\n    /**\n     * Устанавливает максимальную высоту, чтобы текст был виден польностью,\n     * отображает исходный текст + ссылку свернуть.\n     *\n     * @returns {boolean}\n     */\n    setHeight() {\n        this.inner.innerHTML = this.textReal + \"<span class='expanded-link'>\" + this.closeText + \"</span>\";\n        this.el.style.maxHeight = this.inner.offsetHeight + \"px\";\n    }\n}\n\ndocument.querySelectorAll(\".js-expanded-text\").forEach((el) => new ExpandedText(el));\n","/**\n * Компонет быстрого просмотра в слайдере.\n *\n */\nimport Swiper, {Navigation} from \"swiper\";\nimport fastViewTemplate from \"@partials/fast-view.handlebars\";\nimport {getCookie, setCookie} from \"@main/utils/cookie\";\nimport axios from \"@main/axios\";\nimport {makeUrl} from \"@main/utils/make-url\";\nimport {MODAL_WAIT_TIMEOUT} from \"@main/consts/delay\";\nimport {ExpandedText} from \"@main/components/expanded-text\";\n\nexport class FastSlider {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLDivElement} el Элемент.\n     *\n     */\n    constructor(el) {\n        this.el = el;\n        this.swiperElement =  this.el.querySelector(\".js-fast-slider-swiper\");\n        this.btnPrev = this.el.querySelector(\".js-fast-slider-prev\");\n        this.btnNext = this.el.querySelector(\".js-fast-slider-next\");\n        this.list = this.el.querySelector(\".js-fast-slider-swiper-wrap\");\n        this.detailBtn = this.el.querySelector(\".js-fast-slider-detail-btn\");\n        this.cookieName = \"viewed\";\n\n        this.initialization();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация слайдера.\n     *\n     * @returns {void}\n     */\n    initialization() {\n        Swiper.use([Navigation]);\n\n        this.swiper = new Swiper(this.swiperElement, {\n            initialSlide: 0,\n            slidesPerView: 1,\n            loop: false,\n            speed: 600,\n            spaceBetween: 0,\n            watchActiveIndex: true,\n            preventClicks: false,\n            preventClicksPropagation: false,\n            navigation: {\n                prevEl: this.btnPrev,\n                nextEl: this.btnNext,\n            },\n            on: {\n                init: (swiper) => {\n                    this.setUrlFromCurrentSlide(swiper);\n                },\n                slideChange: (swiper) => {\n                    this.setUrlFromCurrentSlide(swiper);\n                    this.trackView(swiper.slides[swiper.realIndex].dataset.id);\n                }\n            }\n        });\n    }\n\n    /**\n     * Установить урл на кнопку \"открыть отдельно\" урл из текущего слайда.\n     *\n     * @returns {void}\n     */\n    setUrlFromCurrentSlide(swiper) {\n        if (swiper.slides && swiper.slides.length) {\n            const currentSlide = swiper.slides[swiper.realIndex];\n            this.detailBtn.href = currentSlide.dataset.url;\n        }\n    }\n\n    /**\n     * Вешает колбек скролла к нужному слайду и обновления слайдера.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        document.addEventListener(\"click\", (e) => {\n            let btn;\n            if (e.target.classList.contains(\"js-fast-view-open\")) {\n                btn = e.target;\n            } else {\n                btn = e.target.closest(\".js-fast-view-open\");\n            }\n            if (btn) {\n                e.preventDefault();\n                const id = btn.dataset.id;\n                this.scrollToSlide(id);\n                this.trackView(id);\n            }\n        });\n\n        this.el.addEventListener(\"updateSlider\", (event) => {\n            this.swiper.destroy();\n            this.buildSlider(event.detail);\n            this.initialization();\n        });\n    }\n\n    /**\n     * Прокрутить к элементу слайдера при нажатии кнопки быстрого просмотра.\n     *\n     * @param {string} id ID изображения, у которого нажата кнопка.\n     *\n     * @returns {void}\n     */\n    scrollToSlide(id) {\n        const item = this.el.querySelector(\".js-fast-slider-item[data-id='\" + id + \"']\");\n        const items = Array.from(this.el.querySelectorAll(\".js-fast-slider-item\"));\n        if (item) {\n            this.swiper.slideTo(items.indexOf(item), 0);\n            setTimeout(() => {\n                item.querySelectorAll(\".js-expanded-text\")\n                    .forEach((text) => text.dispatchEvent(new Event(\"hideExpandedText\")));\n            }, MODAL_WAIT_TIMEOUT);\n        }\n    }\n\n    /**\n     * Построить слайдер.\n     *\n     * @param {object[]} colsItems Массив изображений с сервера.\n     * @returns {void}\n     */\n    buildSlider(colsItems) {\n        this.el.querySelectorAll(\".js-fast-slider-item\").forEach((item) => item.remove());\n        colsItems.forEach((items) => {\n            this.list.insertAdjacentHTML(\"beforeend\", fastViewTemplate({items: items}));\n        });\n        this.list.querySelectorAll(\".js-expanded-text\").forEach((el) => new ExpandedText(el));\n    }\n\n    /**\n     * Зафиксировать просмотр изображения.\n     *\n     * @param {string} id ID изображения, у которого фиксируем просмотр.\n     * @returns {void}\n     */\n    trackView(id) {\n        let viewed = (getCookie(this.cookieName) || \"\").split(\"|\");\n        if (id && viewed.indexOf(id) === -1) {\n            viewed.push(id);\n            setCookie(this.cookieName, viewed.join(\"|\"));\n            this.sendTrack(id);\n        }\n    }\n\n    /**\n     * Отправить запрос для фиксации просмотра.\n     *\n     * @param {string} id ID изображения\n     *\n     * @returns {void}\n     */\n    sendTrack = async (id) => {\n        try {\n            const paramsUrl = {\n                \":image_id\": id\n            };\n            const url = makeUrl(routes.productTrack, paramsUrl);\n            await axios.post(url);\n        } catch (e) {\n            console.log(e);\n        }\n    }\n}\n\nwindow.addEventListener(\"load\", () => {\n    document.querySelectorAll(\".js-fast-slider\").forEach(elem => new FastSlider(elem));\n}, false);\n","import axios from \"@main/axios\";\nimport {PageNav} from \"@main/components/page-nav\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\nimport {Tooltip} from \"@main/components/tooltip\";\nimport DropdownDates from \"@main/components/dropdown/dropdown-dates\";\nimport ColsItems from \"@main/components/cols-items\";\nimport {DownloadLink} from \"@main/components/download-link\";\n\n/** Класс формы с фильтром и отправкой аякс. */\nexport default class FilterFormAjax {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLFormElement} el Элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.url = this.el.dataset.url;\n        this.results = document.querySelector(\".js-search-results\");\n        this.list = this.results.querySelector(\".js-search-results-list\");\n        this.nav = this.results.querySelector(\".js-search-results-nav\");\n        this.error = this.results.querySelector(\".js-search-results-error\");\n        this.strict = this.results.querySelector(\".js-strict-search\");\n        this.slider = document.querySelector(\".js-fast-slider\");\n        this.dates = this.el.querySelectorAll(\".js-date-input\");\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"submitAjax\", () => {\n            this.sendData();\n        });\n        this.strict.addEventListener(\"change\", () => {\n            this.sendData();\n        });\n    }\n\n    /**\n     * Отправка данных на сервер.\n     *\n     * @returns {void}\n     */\n    sendData = async () => {\n        if (this.el.classList.contains(\"waiting\")) {\n            return;\n        }\n        this.el.classList.add(\"waiting\");\n\n        let frmData = new FormData(this.el);\n        const urlParams = new URLSearchParams(this.removePrefixFromDates(frmData));\n        const queryString = urlParams.toString();\n        try {\n            try {\n                const response = await axios.get(this.url + \"?\" + queryString);\n                window.history.pushState(null, null, window.location.pathname + \"?\" + queryString);\n                this.showResult(response.data, urlParams);\n            } catch (e) {\n                if (e.response && e.response.data?.message) {\n                    this.showError(e.response.data.message);\n                } else {\n                    this.showError(ERROR_DEFAULT);\n                    console.log(e);\n                }\n            }\n        } finally {\n            this.el.classList.remove(\"waiting\");\n        }\n    }\n\n    /**\n     * Удалить префиксы \"с\" и \"по\" из значений дат.\n     *\n     * @param {FormData} frmData Данные формы.\n     *\n     * @returns {FormData}\n     */\n    removePrefixFromDates(frmData) {\n        this.dates.forEach((input) => {\n            const realValue = DropdownDates.getRealValue(input);\n            frmData.set(input.name, realValue);\n        });\n        return frmData;\n    }\n\n    /**\n     * Вывести список и пагинацию.\n     *\n     * @param {object} data Данные ответа сервера.\n     * @param {URLSearchParams} urlParams Параметры запроса из данных формы.\n     *\n     * @returns {void}\n     */\n    showResult(data, urlParams) {\n        this.list.removeAttribute(\"style\");\n        if (!data.items || !data.items.length) {\n            this.results.classList.add(\"empty\");\n            return;\n        }\n\n        this.results.classList.remove(\"empty\");\n        this.printList(data.items);\n\n        const settings = {\n            urlParams,\n            baseUrl: window.location.pathname,\n            pages: data.pages,\n            page: data.page\n        };\n        new PageNav(this.nav, settings);\n    }\n\n    /**\n     * Вывести список, вызвать ивент, чтобы перестроить сетку.\n     *\n     * @param {Array} items Массив элементов-картинок.\n     * @returns {void}\n     */\n    printList(items) {\n        const objColsItems = new ColsItems(this.list, items);\n        objColsItems.clear();\n        objColsItems.spreadItems();\n        if (this.slider) {\n            this.slider.dispatchEvent(new CustomEvent(\"updateSlider\", {\n                detail: items\n            }));\n        }\n        this.list.querySelectorAll(\".js-tooltip\").forEach((el) => new Tooltip(el));\n        this.list.querySelectorAll(\".js-download-link\").forEach((el) => new DownloadLink(el));\n    }\n\n    /**\n     * Вывести ошибку.\n     *\n     * @param {string} error Текст ошибки.\n     * @returns {void}\n     */\n    showError(error) {\n        this.error.innerHTML = error;\n        this.list.removeAttribute(\"style\");\n        this.results.classList.add(\"empty\");\n    }\n}\n\ndocument.querySelectorAll(\".js-filter-form-ajax\").forEach((el) => new FilterFormAjax(el));\n","import DropdownDates from \"@main/components/dropdown/dropdown-dates\";\n\n/** Класс формы с фильтром. */\nexport default class FilterForm {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLFormElement} el Элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.dates = this.el.querySelectorAll(\".js-date-input\");\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"submit\", () => {\n            this.removePrefixFromDates();\n        });\n    }\n\n    /**\n     * Удалить префиксы \"с\" и \"по\" из значений дат.\n     *\n     * @returns {void}\n     */\n    removePrefixFromDates() {\n        this.dates.forEach((input) => {\n            input.value = DropdownDates.getRealValue(input);\n        });\n    }\n}\n\ndocument.querySelectorAll(\".js-filter-form\").forEach((el) => {\n    if (!el.classList.contains(\"js-filter-form-ajax\")) {\n        new FilterForm(el);\n    }\n});\n","/** Поиск с подсказками. */\nimport {Autocomplete} from \"@main/components/autocomplete\";\n\nexport default class FilterHints {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.form = this.el.closest(\"form\");\n        this.input = this.el.querySelector(\".js-autocomplete-input\");\n        this.action = this.form.dataset.action;\n        this.initAutocomplete();\n    }\n\n    /**\n     * Инициализация поля с подсказками.\n     *\n     * @returns {void}\n     */\n    initAutocomplete() {\n        new Autocomplete(this.el, this.onValueSelect.bind(this));\n    }\n\n    /**\n     * При выборе значения из списка найденного\n     *\n     * @returns {void}\n     */\n    onValueSelect() {}\n}\n\ndocument.querySelectorAll(\".js-filter-hints\").forEach((elem) => new FilterHints(elem));\n","/** Класс фильтра. */\nexport default class FilterParams {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.form = this.el.closest(\".js-filter-form\");\n        this.fields = Array.from(this.el.querySelectorAll(\".js-dropdown-field\"));\n        this.clearBtn = this.el.querySelector(\".js-clear-all\");\n        this.counter = document.querySelector(\".js-filter-count\");\n\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.clearBtn.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            this.fields.forEach((item) => item.dispatchEvent(new Event(\"clearDropdownField\")));\n            this.clearBtn.classList.add(\"hidden\");\n            this.checkFilterIsCLear();\n            this.form.dispatchEvent(new Event(\"submitAjax\"));\n        });\n\n        this.el.addEventListener(\"checkFilterIsCLear\", () => {\n            this.checkFilterIsCLear();\n        });\n    }\n\n    /**\n     * Проверить, пустой ли фильтр, чтобы скрыть кнопку очистки.\n     *\n     * @returns {void}\n     */\n    checkFilterIsCLear() {\n        const count = this.fields.filter((item) => item.classList.contains(\"selected\")).length;\n        if (count) {\n            this.clearBtn.classList.remove(\"hidden\");\n        } else {\n            this.clearBtn.classList.add(\"hidden\");\n        }\n        if (this.counter) {\n            this.counter.innerHTML = count;\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-filter-params\").forEach((el) => new FilterParams(el));\n","/** Сортировка для списка с фильтром. */\n\nexport default class FilterSelect {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.type = this.el.dataset.type;\n        this.form = document.querySelector(\".js-filter-form\");\n        this.inputReal =  this.form.querySelector(\".js-select-real-input[data-type='\" + this.type + \"']\");\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"change\", () => {\n            this.inputReal.value = this.el.value;\n            this.form.dispatchEvent(new Event(\"submitAjax\"));\n        });\n    }\n}\n\ndocument.querySelectorAll(\".js-filter-select\").forEach((elem) => new FilterSelect(elem));\n","import AirDatepicker from \"air-datepicker\";\nimport {Input} from \"@main/components/form-field/input\";\nimport {md} from \"@main/consts/media\";\nimport {CONTAINER_PADDING} from \"@main/consts\";\n\n/** \n * Компонент выбора даты.\n */\nexport class Datepicker extends Input {\n    /**\n     * @type {AirDatepicker<HTMLInputElement>} инстанс AirDatepicker\n     * @private\n     */\n    datepicker;\n\n    /**\n     * Создает компонент выбора даты.\n     *\n     * @param {object} props - Параметры компонента.\n     * @param {HTMLElement} props.container - Родительский элемент.\n     * @param {HTMLInputElement} props.input - Элемент ввода.\n     * @param {object | undefined} props.options - Конфиг для инициализации AirDatepicker.\n     */\n    constructor({container, input, options}) {\n        super({container, input});\n        this.datepicker = Datepicker.initAirDatepicker(input, options);\n    }\n\n    /**\n     * Инициализирует календарь.\n     *\n     * @param {HTMLInputElement} input - Элемент ввода.\n     * @param {object | undefined} options - Конфиг для инициализации AirDatepicker.\n     */\n    static initAirDatepicker(input, options) {\n        const container = input.closest(\".js-calendar-container\");\n        if (window.innerWidth < md) {\n            if (!options) {\n                options = {};\n            }\n            options.position = function({$datepicker, $target}) {\n                const dpWidth = $datepicker.clientWidth;\n                const rectTarget = $target.getBoundingClientRect();\n                const rectContainer = container.getBoundingClientRect();\n                const rightMaxPosition = rectTarget.x + dpWidth;\n                if (rightMaxPosition > window.innerWidth) {\n                    $datepicker.classList.add(\"-bottom-right-\");\n                    $datepicker.classList.remove(\"-bottom-left-\");\n                    $datepicker.style.left = (-1 * rectTarget.x + CONTAINER_PADDING) + \"px\";\n                } else {\n                    $datepicker.style.left = \"0\";\n                    $datepicker.classList.add(\"-bottom-left-\");\n                    $datepicker.classList.remove(\"-bottom-right-\");\n                }\n                const top = rectTarget.y - rectContainer.y + rectTarget.height;\n                $datepicker.classList.add(\"-from-bottom-\");\n                $datepicker.style.top = `${top}px`;\n            }\n        }\n        const picker = new AirDatepicker(input, {\n            dateFormat: \"dd.MM.yyyy\",\n            autoClose: true,\n            prevHtml: `<svg \n                            class=\"air-datepicker-nav__action air-datepicker-nav__action--prev\" />\n            `,\n            nextHtml: `<svg \n                            class=\"air-datepicker-nav__action air-datepicker-nav__action--next\" />\n            `,\n            minDate: input.getAttribute(\"data-min-date\") ?? undefined,\n            maxDate: input.getAttribute(\"data-max-date\") ?? undefined,\n            container: container,\n            ...options,\n        });\n        return picker;\n    }\n}\n","import {Datepicker} from \"@main/components/form-field/datepicker\";\n\n/**\n * Компонент выбора диапазона дат.\n */\nexport class DatesGroup {\n    /**\n     * @type {AirDatepicker<HTMLInputElement>} инстанс AirDatepicker\n     * @private\n     */\n    datepicker;\n\n    /**\n     * Создает компонент выбора диапазона дат.\n     *\n     * @param {HTMLElement} container - Родительский элемент группы.\n     * @returns {void}\n     */\n    constructor(container) {\n        this.el = container;\n        this.minInput = this.el.querySelector(\".js-date-min\");\n        this.maxInput = this.el.querySelector(\".js-date-max\");\n        this.btn = this.el.querySelector(\".js-dropdown-btn\");\n\n        this.initMin();\n        this.initMax();\n    }\n\n    /**\n     * Инициация календаря для поля начала интервала дат, задает зависимость дат друг от друга.\n     *\n     * @returns {void}\n     */\n    initMin() {\n        this.minInput.addEventListener(\"click\", (e)=> {\n            e.preventDefault();\n        });\n        const options = {\n            onSelect: ({date}) => {\n                this.datepickerMax.update({\n                    minDate: date\n                });\n                this.setDateText();\n            },\n            dateFormat: \"с dd.MM.yyyy\",\n        }\n        this.datepickerMin = Datepicker.initAirDatepicker(this.minInput, options);\n    }\n\n    /**\n     * Инициация календаря для поля конца интервала дат, задает зависимость дат друг от друга.\n     *\n     * @returns {void}\n     */\n    initMax() {\n        this.maxInput.addEventListener(\"click\", (e)=> {\n            e.preventDefault();\n        });\n        const options = {\n            onSelect: ({date}) => {\n                this.datepickerMin.update({\n                    maxDate: date\n                });\n                this.setDateText();\n            },\n            dateFormat: \"по dd.MM.yyyy\",\n        }\n        this.datepickerMax = Datepicker.initAirDatepicker(this.maxInput, options);\n    }\n\n    /**\n     * Установить текстовое представление выбранного значения.\n     *\n     * @returns {void}\n     */\n    setDateText() {\n        if (this.el.classList.contains(\"js-dropdown-dates\")) {\n            this.el.dispatchEvent(new Event(\"setDropdownText\"));\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-dates-group\").forEach((elem) => new DatesGroup(elem));\n","import {Input} from \"@main/components/form-field/input\";\nimport {getFormattedFileSize} from \"@main/utils/file-size-format\";\n\n/** Компонент выбора файла. */\nexport class FileInput extends Input {\n    /**\n     * Создает компонент выбора файла.\n     *\n     * @param {object} props Параметры компонента.\n     * @param {HTMLElement} props.container Родительский элемент.\n     * @param {HTMLInputElement} props.input Элемент ввода.\n     */\n    constructor(props) {\n        super(props);\n        this.findElements();\n    }\n\n    /**\n     * Ищет элементы.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.fileNameCaptionNode = this.el.querySelector(\".js-form-field-file-caption\");\n    }\n\n    /**\n     * Инициализация евентов.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        super.bindEventListeners();\n        this.input.addEventListener(\"change\", this.onChange.bind(this));\n    }\n\n    /**\n     * Коллбек, который обрабатывает выбор файла.\n     *\n     * @returns {void}\n     */\n    onChange() {\n        const [file] = this.input.files;\n        this.fileNameCaptionNode.innerText = file ? `${file.name}, ${getFormattedFileSize(file.size)}` : \"\";\n    }\n\n    /**\n     * Получить значение файла.\n     *\n     * @returns {File} Файл.\n     */\n    getValue() {\n        return this.input.files[0];\n    }\n}\n","import {Datepicker} from \"@main/components/form-field/datepicker\";\nimport {FileInput} from \"@main/components/form-field/file-input\";\nimport {Input} from \"@main/components/form-field/input\";\nimport {PhoneInput} from \"@main/components/form-field/phone-input\";\nimport {Select} from \"@main/components/form-field/select\";\nimport {PasswordInput} from \"@main/components/form-field/password-input\";\nimport {NumberInput} from \"@main/components/form-field/number-input\";\nimport {dateInputMask} from \"@main/utils/date-input-mask\";\n\n/**\n * Инициализируются компоненты ввода.\n *\n * @param {Element} element HTML элемент для поиска.\n * @returns {void}\n */\nexport const initFormFields = (element) => {\n    element.querySelectorAll(\".js-form-field\").forEach((el) => {\n        const input = el.querySelector(\".js-form-field-input\");\n\n        switch (input.type) {\n            case \"file\":\n                return new FileInput({container: el, input});\n\n            case \"select-multiple\":\n            case \"select-one\":\n                return new Select({container: el, input});\n\n            case \"date\":\n                // to prevent appearance of default popup-calendar  in Firefox\n                input.addEventListener(\"click\", (e)=> {\n                    e.preventDefault();\n                })\n                return new Datepicker({container: el, input});\n            case \"tel\":\n                return new PhoneInput({container: el, input});\n\n            case \"password\":\n                return new PasswordInput({container: el, input});\n\n            default:\n                if (input.classList.contains(\"js-form-field-input-number\")) {\n                    return new NumberInput({container: el, input});\n                } else if (input.classList.contains(\"js-form-field-input-date\")) {\n                    dateInputMask(input);\n                    return new Datepicker({container: el, input});\n                } else {\n                    return new Input({container: el, input});\n                }\n        }\n    });\n}\ninitFormFields(document);\n","/** Класс поля ввода с возможностью удаления содержимого по клику на крестик. */\nexport class InputClear  {\n    /**\n     * Конструктор класса.\n     *\n     * @param {Element} props.el Элемент ввода.\n     */\n    constructor(el) {\n        this.el = el;\n        this.input = this.el.querySelector(\".js-form-field-input\");\n        this.icon = this.el.querySelector(\".js-clear-icon\");\n        this.bindEventListeners();\n    }\n    /**\n     * Прослушиваем клик на иконке в инпуте.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"click\", (e) => {\n            if (e.target.classList.contains(\"js-clear-icon\")) {\n                this.clearInput();\n            }\n        });\n        this.input.addEventListener(\"input\", this.checkIsFilled.bind(this));\n    }\n    /**\n     * Удаление введенного в инпут текста, удаление класса заполненного поля.\n     *\n     * @returns {void}\n     */\n    clearInput() {\n        this.input.value = \"\";\n        this.el.classList.remove(\"filled\");\n    }\n\n    /**\n     * Проверка, заполнено ли поле, чтобы добавить класс показа кнопки удаления.\n     *\n     * @returns {void}\n     */\n    checkIsFilled() {\n        if (this.input.value) {\n            this.el.classList.add(\"filled\");\n        } else {\n            this.el.classList.remove(\"filled\");\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-form-field-clear\").forEach((el) => new InputClear(el));\n","/** Базовый класс поля ввода. */\nexport class Input {\n    /**\n     * Создает компонент ввода текста.\n     *\n     * @param {object} props Параметры компонента.\n     * @param {HTMLElement} props.container Родительский элемент.\n     * @param {HTMLInputElement} props.input Элемент ввода.\n     */\n    constructor({container, input}) {\n        this.el = container;\n        this.input = input;\n        this.updateIsFilledStatus();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Вешает коллбеки событий на элементы компонента.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.input.addEventListener(\"input\", this.onInput.bind(this));\n        this.input.addEventListener(\"beforeinput\", this.onBeforeInput.bind(this));\n    }\n\n    /**\n     * Получает введенное значение.\n     *\n     * @returns {string} Введеное значение.\n     */\n    getValue() {\n        return this.input.value;\n    }\n\n    /**\n     * Проверяет наличие лейбла.\n     *\n     * @returns {HTMLElement} Лейбл поля ввода.\n     */\n    hasLabel() {\n        return this.el.querySelector(\".form-field__label\");\n    }\n\n    /**\n     * Обновляет состояние ввода, которое говорит, введено ли значение в поле, или нет.\n     *\n     * @returns {void}\n     */\n    updateIsFilledStatus() {\n        if (this.getValue() && this.hasLabel()) {\n            this.el.classList.add(\"filled\");\n        } else {\n            this.el.classList.remove(\"filled\");\n        }\n    }\n\n    /**\n     * Колбэк обработки события 'input'.\n     *\n     * @returns {void}\n     */\n    onInput() {\n        this.updateIsFilledStatus();\n        if (this.input.maxLength > 0 && this.input.maxLength < this.input.value.length) {\n            this.input.value = this.input.value.slice(0, this.input.maxLength);\n        }\n    }\n\n    /**\n     * Колбэк обработки события перед вводом - удаление символов, не удовлетворяющих паттерну.\n     *\n     * @param {Event} event Событие, происходящее при вводе в инпуте.\n     * @returns {void}\n     */\n    onBeforeInput(event) {\n        if (this.input.pattern && event.data) {\n            const pattern = new RegExp(this.input.pattern);\n            if (!pattern.test(event.data)) {\n                event.preventDefault();\n            }\n        }\n    }\n\n    /**\n     * Удаляет лишние символы из строки по паттерну.\n     *\n     * @param {string} str Строка для форматирования.\n     * @returns {string} Результат.\n     */\n    replaceBadCharacters(str) {\n        let last = \"\";\n        const match = str.match(this.input.pattern);\n\n        if (match || str === \"\") {\n            last = match ? match[0] : \"\";\n        }\n        return last;\n    }\n}\n","import {Input} from \"@main/components/form-field/input\";\nimport {replaceBadInNumber} from \"@main/utils/numberFormat\";\n\n/** Класс для поля ввода числа. */\nexport class NumberInput extends Input {\n    /**\n     * Конструктор класса.\n     *\n     * @param {object} props Параметры компонента.\n     * @param {HTMLElement} props.container Родительский элемент.\n     * @param {HTMLInputElement} props.input Элемент ввода.\n     */\n    constructor(props) {\n        super(props);\n    }\n\n    /**\n     * Прослушиваем события в инпуте с телефоном.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        super.bindEventListeners();\n        this.el.addEventListener(\"paste\", this.onPaste.bind(this));\n    }\n\n    /**\n     * Применение маски к числу при вводе.\n     *\n     * @param {Event} e Событие, происходящее при вводе в инпуте.\n     * @returns {void}\n     */\n    onInput(e) {\n        super.onInput();\n        const input = e.target;\n        this.replaceBadCharacters(input);\n    }\n\n    /**\n     * Удалить все, что не число и не точка, запятую заменить на точку.\n     *\n     * @param {HTMLInputElement} input Поле ввода.\n     * @returns {void}\n     */\n    replaceBadCharacters(input) {\n        input.value = replaceBadInNumber(input.value);\n    }\n\n    /**\n     * Применение маски к числу при вставке скопированного номера.\n     *\n     * @param {Event} e Событие, происходящее при вставке скопированного номера.\n     * @returns {void}\n     */\n    onPaste(e) {\n        const input = e.target;\n        this.replaceBadCharacters(input);\n    }\n}\n","import {Input} from \"@main/components/form-field/input\";\n\n/** Класс поля пароля. */\nexport class PasswordInput extends Input {\n    /**\n     * Конструктор класса.\n     *\n     * @param {object} props Параметры компонента.\n     * @param {HTMLElement} props.container Родительский элемент.\n     * @param {HTMLInputElement} props.input Элемент ввода.\n     */\n    constructor(props) {\n        super(props);\n    }\n\n    /**\n     * Прослушиваем события в инпуте с телефоном.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        super.bindEventListeners();\n        this.el.addEventListener(\"input\", this.onInput.bind(this));\n    }\n\n    /**\n     * Действия при вводе пароля.\n     *\n     * @param {Event} e Событие, происходящее при вводе в инпуте.\n     * @returns {void}\n     */\n    onInput(e) {\n        super.onInput();\n\n        const input = e.target;\n        this.toggleDisabledSubmitButton(input);\n    }\n\n    /**\n     * Менять disabled у кнопки отправки формы, в зависимости от того, пустые поля или нет.\n     *\n     * @param {HTMLInputElement} input Поле пароля.\n     * @returns {void}\n     */\n    toggleDisabledSubmitButton(input) {\n        const passwordGroup = input.closest(\".js-password-group\");\n\n        if (!passwordGroup) {\n            return;\n        }\n\n        const inputs = passwordGroup.querySelectorAll(\"input\");\n        const btnSubmit = passwordGroup.closest(\".js-form-wrapper\").querySelector(\"button[type='submit']\");\n        if (inputs[0].value && inputs[1].value) {\n            btnSubmit.removeAttribute(\"disabled\");\n        } else {\n            btnSubmit.setAttribute(\"disabled\", \"disabled\");\n        }\n    }\n}\n","import {Input} from \"@main/components/form-field/input\";\nimport {WITHOUT_DIGITS_REGEX} from \"@main/consts/regex\";\n\n/** Класс маски для телефона. */\nexport class PhoneInput extends Input {\n    /**\n     * Конструктор класса.\n     *\n     * @param {object} props Параметры компонента.\n     * @param {HTMLElement} props.container Родительский элемент.\n     * @param {HTMLInputElement} props.input Элемент ввода.\n     */\n    constructor(props) {\n        super(props);\n    }\n\n    /**\n     * Фильтрует в строке числа.\n     *\n     * @returns {void}\n     */\n    getInputNumberValues() {\n        return this.input.value.replace(WITHOUT_DIGITS_REGEX, \"\");\n    }\n\n    /**\n     * Прослушиваем события в инпуте с телефоном.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        super.bindEventListeners();\n        this.el.addEventListener(\"keydown\", this.onKeyDown.bind(this));\n        this.el.addEventListener(\"paste\", this.onPaste.bind(this));\n    }\n\n    /**\n     * Применение маски к телефону при вводе.\n     *\n     * @param {Event} e Событие, происходящее при вводе в инпуте.\n     * @returns {void}\n     */\n    onInput(e) {\n        super.onInput();\n        const input = e.target;\n        let inputNumbersValue = this.getInputNumberValues();\n        let formattedInputValue = \"\";\n        let selectionStart = input.selectionStart;\n\n        if (!inputNumbersValue) {\n            input.value = \"\";\n            return;\n        }\n\n        if (input.value.length !== selectionStart) {\n            if (e.data && WITHOUT_DIGITS_REGEX.test(e.data)) {\n                input.value = inputNumbersValue;\n            }\n\n            return;\n        }\n\n        if (inputNumbersValue[0] === \"9\") {\n            inputNumbersValue = \"7\" + inputNumbersValue;\n        }\n\n        formattedInputValue = \"+7 \";\n\n        if (inputNumbersValue.length > 1) {\n            formattedInputValue += `(${inputNumbersValue.substring(1, 4)}`;\n        }\n\n        if (inputNumbersValue.length >= 5) {\n            formattedInputValue += `) ${inputNumbersValue.substring(4, 7)}`;\n        }\n\n        if (inputNumbersValue.length >= 8) {\n            formattedInputValue += `-${inputNumbersValue.substring(7, 9)}`;\n        }\n\n        if (inputNumbersValue.length >= 10) {\n            formattedInputValue += `-${inputNumbersValue.substring(9, 11)}`;\n        }\n\n        input.value = formattedInputValue;\n    }\n\n    /**\n     * Применение маски к телефону при каждом нажатии на клавиатуре.\n     *\n     * @param {Event} e Событие, происходящее при каждом нажатии клавиши.\n     * @returns {void}\n     */\n    onKeyDown(e) {\n        const input = e.target;\n\n        if (e.keyCode === 8 && this.getInputNumberValues().length === 1) {\n            input.value = \"\";\n        }\n    }\n\n    /**\n     * Применение маски к телефону при вставке скопированного номера.\n     *\n     * @param {Event} e Событие, происходящее при вставке скопированного номера.\n     * @returns {void}\n     */\n    onPaste(e) {\n        const pasted = e.clipboardData || window.clipboardData;\n        const input = e.target;\n        const inputNumbersValue = this.getInputNumberValues();\n\n        if (pasted) {\n            const pastedText = pasted.getData(\"Text\");\n\n            if (WITHOUT_DIGITS_REGEX.test(pastedText)) {\n                input.value = inputNumbersValue;\n            }\n        }\n    }\n}\n","import {Input} from \"@main/components/form-field/input\";\nimport TomSelect from \"tom-select\";\n\n/**\n * Компонент селекта.\n */\nexport class Select extends Input {\n    /**\n     * Инстанс компонента TomSelect.\n     *\n     * @type {TomSelect}\n     * @private\n     */\n    tomSelect;\n\n    /**\n     * Создает компонент выбора файла.\n     *\n     * @param {object} props - Параметры компонента.\n     * @param {HTMLElement} props.container - Родительский элемент.\n     * @param {HTMLInputElement} props.input - Элемент ввода.\n     */\n    constructor({container, input}) {\n        super({container, input});\n\n        this.tomSelect = new TomSelect(this.input, {\n            hideSelected: false,\n            controlClass: \"form-field__input ts-control\",\n            dropdownClass: \"ts-dropdown js-form-field-scroll\",\n            render: {\n                no_results: function() {\n                    return \"<div class=\\\"option\\\">Ничего не найдено</div>\";\n                },\n            },\n\n            onType: (str) => {\n                if (str) {\n                    this.el.classList.add(\"filled\");\n                } else {\n                    this.updateIsFilledStatus();\n                }\n            }\n        });\n        this.input.classList.remove(\"form-field__select\");\n    }\n}\n","import axios from \"@main/axios\";\nimport {EMAIL_REGEX, NUMBER_REGEX, PASSWORD_REGEX, PASSWORD_REGEX_UPPER} from \"@main/consts/regex\";\nimport {Modal} from \"@main/components/modal\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\n\n/** Компонент для работы с формой (отправка, валидация). */\nexport class Form {\n    static MAX_PHONE_LENGTH = 18;\n    /**\n     * @type {{Boolean}} результат валидации инпута.\n     * @private\n     */\n    result;\n\n    /**\n     * Создает компонент выбора файла.\n     *\n     * @param {HTMLFormElement} form Элемент формы.\n     */\n    constructor(form) {\n        this.el = form;\n        this.url = this.el.dataset.url;\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск элементов компонента.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.fields = [...this.el.querySelectorAll(\".js-form-field\")].map((field) => ({\n            node: field,\n            input: field.querySelector(\".js-form-field-input\"),\n        }));\n        this.errorModal = document.querySelector(\".js-modal[data-modal-name='failed-modal']\");\n        this.errorModalText = this.errorModal.querySelector(\".js-fail-modal-text\");\n        this.successModal = document.querySelector(\".js-modal[data-modal-name='success-modal']\");\n    }\n\n    /**\n     * Скрывает сообщение об ошибке.\n     *\n     * @param {HTMLDivElement} field Контейнер поля вода.\n     * @returns {void}\n     */\n    hideFieldError(field) {\n        field.classList.remove(\"error\");\n    }\n\n    /**\n     * Привязка обработчиков событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"submit\", (e) => e.preventDefault());\n\n        this.bindInputListeners();\n    }\n\n    /**\n     * Привязка обработчиков событий ввода в поля.\n     *\n     * @returns {void}\n     */\n    bindInputListeners() {\n        this.fields.forEach((field) => {\n            field.input.addEventListener(\"input\", () => this.hideFieldError(field.node));\n            field.input.addEventListener(\"blur\", () => this.checkInput(field));\n            field.input.addEventListener(\"paste\", () => this.hideFieldError(field.node));\n        });\n    }\n\n    /**\n     * Обрабатывает submit формы и показывает нужный modal.\n     *\n     * @param {Event} e Событие, происходящее при отправке формы.\n     * @param {HTMLElement} modal Модальное окно.\n     * @returns {void}\n     */\n    submitFormWithModal = async (e, modal) => {\n        e.preventDefault();\n        let modalResult;\n        if (!this.isValid) {\n            return\n        }\n        try {\n            await Form.fetchForm(this.el, this.url);\n            modalResult = this.successModal;\n            this.clearForm();\n        } catch (e) {\n            modalResult = this.errorModal;\n            if(e.response) {\n                if (e.response.data?.message) {\n                    this.errorModalText.innerHTML = e.response.data.message;\n                } else {\n                    this.errorModalText.innerHTML = ERROR_DEFAULT;\n                }\n            } else {\n                this.errorModalText.innerHTML = ERROR_DEFAULT;\n                console.log(e);\n            }\n        }\n        Modal.close(modal);\n        Modal.open(modalResult);\n    }\n\n    /**\n     * Очистить поля формы.\n     *\n     * @returns {void}\n     */\n    clearForm() {\n        this.fields.forEach((field) => {\n            field.input.value = \"\";\n            field.node.classList.remove(\"filled\");\n            field.node.classList.remove(\"error\");\n        });\n    }\n\n    /**\n     * Определяет валидность ввода в форме.\n     *\n     * @returns {boolean} Флаг валидности введенной формы.\n     */\n    get isValid() {\n        let isValid = true;\n        this.fields.forEach((field) => {\n            if(field.node.classList.contains(\"error\")) {\n                field.node.classList.remove(\"error\");\n            }\n            if (!this.validateField(field.input)) {\n                isValid = false;\n                field.node.classList.add(\"error\");\n            }\n        });\n\n        return isValid;\n    }\n\n    /**\n     * Определяет валидность ввода в форме.\n     *\n     * @param {object} field Объект поля ввода.\n     * @returns {void}\n     */\n    checkInput(field) {\n        if (!this.validateField(field.input)) {\n            field.node.classList.add(\"error\");\n        } else {\n            field.node.classList.remove(\"error\");\n        }\n    }\n\n    /**\n     * Проверка заполнения обязательного поля ввода.\n     *\n     * @param {HTMLInputElement} input Инпут компонента формы.\n     * @returns {boolean} Флаг заполнения поля.\n     */\n    isFilled(input) {\n        if (input.required && !input.value) {\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * Проверка валидации поля ввода.\n     *\n     * @param {HTMLInputElement} input Инпут компонента формы.\n     * @returns {boolean} Флаг валидности заполнения поля.\n     */\n    validateField(input) {\n        // сначала проверяем обязательность поля, в нем наличие паттерна и соответсвие ему введенного значения.\n        // В случае отсутствия паттерна у обязательного поля - заполнено ли оно.\n        // Если поле не обязательно - this.result = true\n        // после чего производим другие валидации и приводим к флагу this.result\n        if(input.required) {\n            if(input.pattern) {\n                this.result = Form.isValidPattern(input) && Form.isValidLength(input);\n            } else {\n                // возвращает true в случае, если input не пустой и далее переходит к проверкам по типу input-а\n                this.result = !!input.value;\n            }\n        } else if(!input.required) {\n            this.result = true;\n        }\n\n        switch (input.type) {\n            case \"file\":\n                this.result = this.result && Form.isValidFile(input);\n                break;\n\n            case \"tel\":\n                this.result = this.result && Form.isValidPhone(input);\n                break;\n\n            case \"email\":\n                this.result = this.result && Form.isValidMail(input);\n                break;\n\n            case \"number\":\n                this.result = this.result && Form.isValidNumber(input);\n                break;\n\n            case \"password\":\n                this.result = this.result && Form.isValidPasswords(input) && Form.isValidPasswordByLetter(input) && Form.isValidPasswordByCapital(input);\n                break;\n\n            case \"hidden\":\n                this.result = true;\n                break;\n                \n            default:\n                this.result = true;\n                break;\n        }\n        return this.result;\n    }\n\n    /**\n     * Отправка формы.\n     *\n     * @param {HTMLFormElement} formNode DOM узел формы.\n     * @param {string} url Url отправки формы.\n     * @param {number} id Идентификатор.\n     * @returns {object} Ответ сервера в формате, согласному std.\n     */\n    static async fetchForm(formNode, url, id = undefined) {\n        const data = new FormData(formNode);\n        const {data: response} = await axios.post(url, data, {\n            params: {\n                id: id,\n            },\n        });\n        return response;\n    }\n\n    /**\n     * Проверка валидности элемента по его паттерну.\n     *\n     * @param {HTMLInputElement} input Инпут с паттерном.\n     * @returns {boolean} Валидность элемента по паттерну.\n     */\n    static isValidPattern(input) {\n        const regex = new RegExp(input.pattern);\n        return regex.test(input.value);\n    }\n    /**\n     * Проверка валидности номера телефона.\n     *\n     * @param {HTMLInputElement} phoneInput Инпут телефона.\n     * @returns {boolean} Ввод телефона валидный.\n     */\n    static isValidPhone(phoneInput) {\n        return phoneInput.value.length === Form.MAX_PHONE_LENGTH;\n    }\n\n    /**\n     * Проверка валидности электронной почты.\n     *\n     * @param {HTMLInputElement} mailInput Инпут почты.\n     * @returns {boolean} Валидность ввода почты.\n     */\n    static isValidMail(mailInput) {\n        return EMAIL_REGEX.test(mailInput.value);\n    }\n\n    /**\n     * Проверка валидности поля с числом.\n     *\n     * @param {HTMLInputElement} numberInput Инпут с номером.\n     * @returns {boolean} Валидность ввода почты.\n     */\n    static isValidNumber(numberInput) {\n        if (numberInput.min && numberInput.max) {\n            const min = +numberInput.min;\n            const max = +numberInput.max;\n            if (+numberInput.value < min || +numberInput.value > max) return;\n        }\n        return NUMBER_REGEX.test(numberInput.value);\n    }\n\n    /**\n     * Проверка валидности выбора файлов.\n     *\n     * @param {HTMLInputElement} fileInput Инпут файла.\n     * @returns {boolean} Валидность выбора файла.\n     */\n    static isValidFile(fileInput) {\n        return !!fileInput.files.length;\n    }\n\n    /**\n     * Проверка валидности длины строки.\n     *\n     * @param {HTMLInputElement} input Инпут.\n     * @returns {boolean} Валидность длины строки.\n     */\n    static isValidLength(input) {\n        if (input.maxLength && input.maxLength > 0) {\n            if ( input.value.length > input.maxLength) {\n                return false;\n            }\n        }\n\n        if (input.minLength && input.minLength > 0) {\n            if ( input.value.length < input.minLength) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * Проверка введенного пароля на наличие хотя бы одной буквы.\n     *\n     * @param {HTMLInputElement} passwordInput Инпут пароля.\n     * @returns {boolean} Валидность введенного пароля по наличию буквы.\n     */\n\n    static isValidPasswordByLetter(passwordInput) {\n        if(!(passwordInput.classList.contains(\"js-current-password\"))) {\n            const password = passwordInput.value;\n            const errorField = passwordInput.closest(\".js-form-field\").querySelector(\".js-validation-error\");\n            if(\n                PASSWORD_REGEX.test(password) && PASSWORD_REGEX_UPPER.test(password)\n                &&\n                (!passwordInput.minLength || password.length >= passwordInput.minLength)\n                &&\n                (!passwordInput.maxLength || password.length < passwordInput.maxLength)) {\n                errorField.innerHTML =\"\";\n            } else {\n                errorField.innerHTML =\"Пароль должен содержать не менее 8 знаков и иметь заглавную букву\";\n            }\n            return PASSWORD_REGEX.test(password);\n        } else {\n            return true\n        }\n    }\n\n    /**\n     * Проверка наличия в пароле заглавных символов\n     *\n     * @param {HTMLInputElement} passwordInput Инпут пароля.\n     * @returns {boolean} Валидность введенного пароля по наличию заглавных символов\n     */\n    static isValidPasswordByCapital(passwordInput) {\n        if(!(passwordInput.classList.contains(\"js-current-password\"))) {\n            const errorField = passwordInput.closest(\".js-form-field\").querySelector(\".js-validation-error\");\n            const password = passwordInput.value;\n            if(!(password === password.toLowerCase())) {\n                errorField.innerHTML =\"\";\n            } else {\n                errorField.innerHTML =\"Пароль должен содержать не менее 8 знаков и иметь заглавную букву\";\n            }\n            return !(password === password.toLowerCase())\n        } else {\n            return true\n        }\n\n    }\n\n    /**\n     * Проверка введенных паролей на идентичность.\n     *\n     * @param {HTMLInputElement} passwordInput Инпут пароля.\n     * @returns {boolean} Валидность введенных паролей.\n     */\n    static isValidPasswords(passwordInput) {\n        const passwordGroup = passwordInput.closest(\".js-password-group\");\n\n        if (!passwordGroup) {\n            return !!passwordInput.value;\n        } else {\n            const inputs = passwordGroup.querySelectorAll(\"input\");\n            // сравниваем значения инпутов только если оба сравниваемых поля заполнены\n            if(inputs[0].value && inputs[1].value) {\n                const passwordGroupError = passwordInput.closest(\".js-password-group\").querySelector(\".js-caption-error\");\n                if(!(inputs[0].value === inputs[1].value) && passwordGroupError) {\n                    passwordGroupError.innerHTML = \"Пароли не совпадают\";\n                } else {\n                    passwordGroupError.innerHTML = \"\";\n                }\n                return inputs[0].value === inputs[1].value;\n            } else {\n                return true\n            }\n        }\n    }\n}\n","/** Добавить класс к блоку, когда картинка загрузится. */\nexport class ImgLoading {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.img = this.el.querySelector(\".js-img-loading-img\");\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвента загрузки изображения.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        if (this.img.complete) {\n            this.setLoadedClass();\n        } else {\n            this.img.addEventListener(\"load\", this.setLoadedClass.bind(this));\n        }\n    }\n\n    /**\n     * Установить класс, что изображение загружено.\n     *\n     * @returns {void}\n     */\n    setLoadedClass() {\n        this.el.classList.add(\"loaded\");\n        this.el.classList.remove(\"js-img-loading\");\n    }\n}\n\ndocument.querySelectorAll(\".js-img-loading\").forEach((el) => new ImgLoading(el));\n","/** Список выбора с загрузкой страницы при выборе варианта. */\nexport class LinkSelect {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLElement} el Элемент.\n     *\n     */\n    constructor(el) {\n        this.el = el;\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация эвентов выбора значения.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"change\", () => {\n            window.location.href = this.el.value;\n        });\n    }\n}\n\ndocument.querySelectorAll(\".js-link-select\").forEach((el) => new LinkSelect(el));\n","import Masonry from \"masonry-layout\";\n\n/** Класс подключения плагина для сетки фотографий https://masonry.desandro.com/extras.html. */\nexport default class MasonryGrid {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLFormElement} el Элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.prevScroll = null;\n        this.initGrid();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация грида с равномерным распределением картинок.\n     * Ожидает загрузки всех картинок, иначе криво распределяет.\n     *\n     * @returns {void}\n     */\n    initGrid() {\n        Promise.all(Array.from(this.el.querySelectorAll(\"img\"))\n            .filter(img => !img.complete)\n            .map(img => new Promise(resolve => { img.onload = img.onerror = resolve; })))\n            .then(() => {\n                this.masonryObj = new Masonry(this.el, {\n                    itemSelector: \".js-masonry-grid-item\", // use a separate class for itemSelector, other than .col-\n                    columnWidth: \".js-masonry-grid-sizer\",\n                    percentPosition: true\n                });\n                if (this.prevScroll) {\n                    document.documentElement.scrollTop = document.body.scrollTop = this.prevScroll;\n                }\n            });\n    }\n\n    /**\n     * Инициализация эвентов перерисовки сетки.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"masonryLayout\", () => {\n            this.prevScroll = document.documentElement.scrollTop || document.body.scrollTop;\n            this.masonryObj.destroy();\n            this.initGrid();\n        });\n    }\n}\n\nwindow.addEventListener(\"load\", () => {\n    document.querySelectorAll(\".js-masonry-grid\").forEach((el) => new MasonryGrid(el));\n}, false);\n","import {NOTIFICATION_TIMEOUT_HIDE_INFO_MESSAGE} from \"@main/consts/delay\";\nimport {getBtnFromTarget} from \"@main/utils/get-btn-from-target\";\n\n/** Компонент модала. */\nexport class Modal {\n    /**\n     * Создаёт компонент модала.\n     *\n     * @param {HTMLElement} el Родительский элемент модала (элемент заднего фона).\n     */\n    constructor(el) {\n        this.el = el;\n        this.name = this.el.dataset.modalName;\n        this.bindEventListeners();\n        if (this.el.classList.contains(\"js-modal-opened\")) {\n            Modal.open(this.el);\n        }\n    }\n\n    /**\n     * Вешает колбеки закрытия модала.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"click\", (e) => {\n            if (!e.target.closest(\".js-modal-dialog\")\n                && !getBtnFromTarget(e.target, \"js-expanded-text\")\n                && !e.target.classList.contains(\"js-expanded-link\")\n            ) {\n                Modal.close(this.el);\n            }\n        });\n        document.addEventListener(\"click\", (e) => {\n            if (e.target.classList.contains(\"js-modal-close\")) {\n                const curModal = e.target.closest(\".js-modal\");\n                if (curModal) {\n                    Modal.close(curModal);\n                } else {\n                    Modal.close(this.el);\n                }\n            } else {\n                const btn = getBtnFromTarget(e.target, \"js-modal-open\");\n                if (btn && btn.dataset.modal === this.name) {\n                    e.preventDefault();\n                    if (btn.classList.contains(\"js-close-other\")) {\n                        document.querySelectorAll(\".js-modal.visible\").forEach((el) => el.classList.remove(\"visible\"));\n                    }\n                    Modal.open(this.el);\n                }\n            }\n        });\n    }\n\n    /**\n     * Закрывает модал.\n     *\n     * @param {HTMLElement} modal Главный элемент модала.\n     * @returns {void}\n     */\n    static close(modal) {\n        modal.classList.remove(\"visible\");\n        document.body.classList.remove(\"prevent-scroll\");\n    }\n\n    /**\n     * Открывает модал.\n     *\n     * @param {Element} modal Главный элемент модала.\n     * @returns {void}\n     */\n    static open(modal) {\n        modal.classList.add(\"visible\");\n        document.body.classList.add(\"prevent-scroll\");\n\n        const input = modal.querySelector(\"input\");\n        if (input) {\n            input.focus();\n        }\n\n        if (modal.classList.contains(\"js-modal-autoclose\")) {\n            Modal.autoclose(modal);\n        }\n    }\n\n    /**\n     * Закрыть модал по таймауту.\n     *\n     * @param {Element} modal Главный элемент модала.\n     * @returns {void}\n     */\n    static autoclose(modal) {\n        setTimeout(() => {\n            Modal.close(modal);\n        }, NOTIFICATION_TIMEOUT_HIDE_INFO_MESSAGE);\n    }\n}\n\ndocument.querySelectorAll(\".js-modal\").forEach((el) => new Modal(el));\n","import {NOTIFICATION_TIMEOUT_HIDE_INFO_MESSAGE} from \"@main/consts/delay\";\nimport {getCookie, setCookie} from \"@main/utils/cookie\";\n\n/**\n * Всплывающее уведомление.\n */\nexport class Notification {\n    /**\n     * Создает компонент.\n     *\n     * @param {HTMLElement} el Элемент-уведомление.\n     */\n    constructor(el) {\n        this.el = el;\n        this.type = this.el.dataset.type;\n        this.cookieName = this.el.dataset.cookie;\n        this.btnCookie = this.el.querySelector(\".js-button-cookies\");\n        this.btnClose = this.el.querySelector(\".js-notification-close\");\n        this.message = this.el.querySelector(\".js-notification-message\");\n        this.link = this.el.querySelector(\".js-notification-link\");\n        this.openBtn = document.querySelectorAll(\".js-notification-button[data-type='\" + this.type + \"']\");\n        this.timer = null;\n        this.bindEventListeners();\n        this.autoShow();\n        this.showByCookie();\n    }\n\n    /**\n     * Показать плашку с уведомлением. Закртыть по таймауту, если нужно.\n     *\n     * @returns {void}\n     */\n    show() {\n        this.el.classList.add(\"visible\");\n\n        if (this.el.classList.contains(\"js-auto-close\")) {\n            clearTimeout(this.timer);\n            this.timer = setTimeout(() => {\n                this.close();\n            }, NOTIFICATION_TIMEOUT_HIDE_INFO_MESSAGE);\n        }\n    }\n\n    /**\n     * Показать плашку с уведомлением автоматически при загрузке страницы\n     *\n     * @returns {void}\n     */\n    autoShow() {\n        if(this.el.classList.contains(\"js-auto-notification\")) {\n            this.show();\n        }\n    }\n\n    /**\n     * Показать плашку с уведомлением в зависимости от куки.\n     *\n     * @returns {void}\n     */\n    showByCookie() {\n        if (this.el.classList.contains(\"js-cookies-notification\")) {\n            if (getCookie(this.cookieName) !== \"accept\") {\n                this.show();\n            }\n        }\n    }\n\n    /**\n     * Закрыть плашку с уведомлением.\n     *\n     * @returns {void}\n     */\n    close() {\n        this.el.classList.remove(\"visible\");\n    }\n\n    /**\n     * Обрабатываем клик. В случае если кликнули вне уведомления -\n     * закрываем его. Если кликнули по кнопке - открываем\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        if (this.btnCookie) {\n            this.btnCookie.addEventListener(\"click\", () => {\n                setCookie(this.cookieName, \"accept\");\n                this.close();\n            });\n        }\n\n        if (this.btnClose) {\n            this.btnClose.addEventListener(\"click\", () => {\n                this.close();\n            });\n        }\n\n        if (this.openBtn.length) {\n            this.openBtn.forEach((button) => {\n                button.addEventListener(\"click\", () => {\n                    this.show();\n                });\n            });\n        }\n\n        document.addEventListener(\"click\", (e) => {\n            if (!e.target.classList.contains(\"js-notification-button\")\n                &&\n                !e.target.classList.contains(\"js-notification\")\n                &&\n                !e.target.closest(\".js-notification\")\n                &&\n                !this.el.classList.contains(\"js-cookies-notification\")\n            ) {\n                this.close();\n            }\n        });\n\n        this.el.addEventListener(\"showNotification\", (event) => {\n            this.message.textContent = event.detail.message;\n            this.link.textContent = event.detail.link.title;\n            this.link.href = event.detail.link.url;\n            this.show();\n        });\n    }\n}\n\n\ndocument.querySelectorAll(\".js-notification\").forEach((el) => new Notification(el));\n","/** Класс постраничной навигации. */\nimport pagenavTemplate from \"@partials/pagenav.handlebars\";\nimport {SPRED_PAGES} from \"@main/consts\";\n\nexport class PageNav {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLFormElement} el Элемент.\n     * @param {settings} settings Параметры компонента.\n     * @param {URLSearchParams} settings.urlParams Get-параметры запроса.\n     * @param {string} settings.baseUrl Базовый урл.\n     * @param {int} settings.pages Количество страниц.\n     * @param {int} settings.page Текущая страница.\n     *\n     */\n    constructor(el, settings) {\n        this.el = el;\n        this.settings = settings;\n        this.pageInput = document.querySelector(\".js-filter-page\");\n        this.objResult = {\n            prev: null,\n            items: [],\n            next: null,\n        };\n        this.shiftStart = 0;\n        this.shiftEnd = 0;\n\n        this.printNav();\n    }\n\n    /**\n     * Вывести пагинацию.\n     *\n     * @returns {void}\n     */\n    printNav() {\n        this.settings.pages = Number(this.settings.pages);\n        if (this.settings.pages > 1) {\n            this.checkPage();\n            this.makePrev();\n            this.makeNext();\n            this.makeOtherPages();\n            this.el.innerHTML = pagenavTemplate(this.objResult);\n            this.pageInput.value = this.settings.page;\n        } else {\n            this.el.innerHTML = \"\";\n            this.pageInput.value = 1;\n        }\n    }\n\n    /**\n     * Проверить текущую страницу на доступность.\n     *\n     * @returns {void}\n     */\n    checkPage() {\n        this.settings.page = Number(this.settings.page) || 0;\n        if (this.settings.page < 1) {\n            this.settings.page = 1;\n        }\n        if (this.settings.page > this.settings.pages) {\n            this.settings.page = 1;\n        }\n    }\n\n    /**\n     * Задать урл кнопки предыдущая страница, если не первая странца текущая.\n     *\n     * @returns {void}\n     */\n    makePrev() {\n        if (this.settings.page > 1) {\n            this.objResult.prev = this.getLinkUrl(this.settings.page - 1);\n        }\n    }\n\n    /**\n     * Задать урл кнопки следующая страница, если не последняя страница текущая.\n     *\n     * @returns {void}\n     */\n    makeNext() {\n        if (this.settings.page < this.settings.pages) {\n            this.objResult.next = this.getLinkUrl(this.settings.page + 1);\n        }\n    }\n\n    /**\n     * Получить ссылку на страницу с параметрами.\n     *\n     * @param {int} pageNum Номер страницы.\n     * @returns {string}\n     */\n    getLinkUrl(pageNum) {\n        this.settings.urlParams.set(\"page\", pageNum);\n        return this.settings.baseUrl + \"?\" + this.settings.urlParams.toString();\n    }\n\n    /**\n     * Сформировать массив кнопок на остальные страницы.\n     *\n     * @returns {void}\n     */\n    makeOtherPages() {\n        this.calcCentralRange();\n\n        this.objResult.items.push({\n            url: this.getLinkUrl(1),\n            active: 1 === this.settings.page,\n            hiddenMd: this.settings.page > 2,\n            separator: false,\n            num: 1,\n        });\n\n        if (this.shiftStart === 3) {\n            this.objResult.items.push({\n                url: this.getLinkUrl(2),\n                active: 2 === this.settings.page,\n                hiddenMd: this.settings.page > 3,\n                separator: false,\n                num: 2,\n            });\n        } else if (this.shiftStart > 3) {\n            this.objResult.items.push({\n                url: \"\",\n                active: false,\n                hiddenMd: true,\n                separator: true,\n                num: \"\",\n            });\n        }\n\n        for (let i = this.shiftStart; i <= this.shiftEnd; i++) {\n            this.objResult.items.push({\n                url: this.getLinkUrl(i),\n                active: i === this.settings.page,\n                separator: false,\n                num: i,\n            });\n        }\n\n        const last_page = this.settings.pages - 1;\n        if (this.shiftEnd === last_page - 1 ) {\n            this.objResult.items.push({\n                url: this.getLinkUrl(last_page),\n                active: last_page === this.settings.page,\n                hiddenMd: this.settings.page < last_page - 1,\n                separator: false,\n                num: last_page,\n            });\n        } else if(this.shiftEnd < last_page) {\n            this.objResult.items.push({\n                url: \"\",\n                active: false,\n                hiddenMd: true,\n                separator: true,\n                num: \"\",\n            });\n        }\n\n        this.objResult.items.push({\n            url: this.getLinkUrl(this.settings.pages),\n            active: this.settings.pages === this.settings.page,\n            hiddenMd: this.settings.page < last_page,\n            num: this.settings.pages,\n            separator: false,\n        });\n    }\n\n    /**\n     * Сколько показывать кнопок страниц до и после актуальной\n     * Пример:\n     * SPRED_PAGES = 2\n     * Всего 9 страниц навигации и сейчас просматривают 5ю\n     * 3 4 5 6 7\n     * shiftStart = начало средней части (3 в этом примере)\n     * shiftEnd = конец средней части (7 в этом примере)\n     *\n     *\n     * @returns {void}\n     *\n     */\n    calcCentralRange() {\n        this.shiftStart = Math.max(this.settings.page - SPRED_PAGES, 2);\n        this.shiftEnd = Math.min(this.settings.page + SPRED_PAGES, this.settings.pages-1);\n        if (this.shiftEnd < SPRED_PAGES * 2) {\n            this.shiftEnd = Math.min(SPRED_PAGES*2, this.settings.pages-1);\n        }\n        if (this.shiftEnd === this.settings.pages - 1 && this.shiftStart > 3) {\n            this.shiftStart = Math.max(3, Math.min(this.settings.pages - SPRED_PAGES * 2 + 1, this.shiftStart));\n        }\n    }\n}\n","/**\n * Компонент меняет placeholder у input по разрешению.\n */\nconst {md} = require(\"@main/consts/media\");\n\nclass Placeholder {\n    /**\n     * Создает компонент смены placeholder по разрешению.\n     *\n     * @param {HTMLElement} el - DOM элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.placeholder =  this.el.getAttribute(\"placeholder\");\n        this.setPlaceholder();\n        this.bindEventlisteners();\n    }\n\n    /**\n     * Проверить разрешение и Установить placeholder\n     *\n     * @returns {void}\n     */\n    setPlaceholder() {\n        let newPlaceholder;\n        if (window.innerWidth < md) {\n            newPlaceholder =  this.el.dataset.smallPlaceholder;\n        } else {\n            newPlaceholder =  this.el.dataset.bigPlaceholder;\n        }\n        if (newPlaceholder !== this.placeholder && newPlaceholder) {\n            this.el.setAttribute(\"placeholder\", newPlaceholder);\n            this.placeholder = newPlaceholder;\n        }\n    }\n\n    /**\n     * Событие изменения ширины окна\n     *\n     * @returns {void}\n     */\n    bindEventlisteners() {\n        window.addEventListener(\"resize\", () => {\n            this.setPlaceholder();\n        });\n    }\n}\n\ndocument.querySelectorAll(\".js-placeholder\").forEach((el) => new Placeholder(el));\n","import {Form} from \"@main/components/form\";\n\n/**\n * Компонент выбора оператора ЭДО.\n */\nclass ChangeEdoStatusForm {\n    /**\n     * Создается компонент формы выбора оператора ЭДО.\n     *\n     * @param {Element} el Форма.\n     */\n    constructor(el) {\n        this.el = el;\n        this.formElement = this.el;\n        this.form = new Form(this.el);\n        this.modal = this.el.closest(\".js-modal\");\n\n        this.bindEventListeners();\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"submit\", (e) => {\n            this.form.submitFormWithModal(e, this.modal);\n        });\n    }\n}\n\ndocument.querySelectorAll(\".js-edo-status-form\").forEach((el) => new ChangeEdoStatusForm(el));\n","import {Form} from \"@main/components/form\";\n\n/**\n * Компонент изменения email в ЛК.\n */\nclass ChangeEmail {\n    /**\n     * Создается компонент изменения email.\n     *\n     * @param {Element} el форма изменения email в ЛК.\n     */\n    constructor(el) {\n        this.el = el;\n        this.modal = this.el.closest(\".js-modal\");\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск элементов компонента.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        this.formElement = this.el;\n        this.form = new Form(this.formElement);\n        this.buttonSubmit = this.el.querySelector(\".js-change-email-submit\");\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.formElement.addEventListener(\"submit\", this.submitChangeEmailForm.bind(this));\n        this.validateInputs(this.el);\n    }\n\n    /**\n     * Проверяем валидность полей ввода\n     *\n     * @param {HTMLElement} form форма.\n     * @returns {void}\n     */\n\n    validateInputs(form) {\n        const input = form.querySelector(\".js-form-field-input\");\n        input.addEventListener(\"input\", () => {\n            let haveError = false;\n            if (!(input.value && this.form.validateField(input))) {\n                haveError = true;\n            }\n            if (haveError) {\n                this.buttonSubmit.setAttribute(\"disabled\", \"disabled\");\n            } else {\n                this.buttonSubmit.removeAttribute(\"disabled\");\n            }\n        })\n    }\n\n    /**\n     * Отправка формы изменения email.\n     * Открыть модал при успешной отправке.\n     * В случае ошибки открыть модал и вывести в него текст ошибки.\n     *\n     * @param {Event} e Событие, происходящее при отправке формы.\n     * @returns {void}\n     */\n    submitChangeEmailForm = async (e) => {\n        e.preventDefault();\n        if (!this.form.isValid) {\n            return;\n        }\n        this.form.submitFormWithModal(e, this.modal);\n    }\n}\n\ndocument.querySelectorAll(\".js-change-email-form\").forEach((el) => new ChangeEmail(el));\n","import {Form} from \"@main/components/form\";\n\n/**\n * Компонент установки нового пароля в личном кабинете.\n */\nclass ChangePassword {\n    /**\n     * Создается компонент смены пароля в личном кабинете.\n     *\n     * @param {Element} el - элемент формы смены пароля.\n     */\n    constructor(el) {\n        this.el = el;\n        this.formElement = this.el;\n        this.form = new Form(this.el);\n        this.modal = this.el.closest(\".js-modal\");\n        this.buttonSubmit = this.el.querySelector(\".js-change-password-submit\");\n\n        this.bindEventListeners();\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.formElement.addEventListener(\"submit\", (e) => {\n            this.form.submitFormWithModal(e, this.modal);\n        });\n    }\n}\n\ndocument.querySelectorAll(\".js-change-password-form\").forEach((el) => new ChangePassword(el));\n","import \"./change-edo-status\";\nimport \"./change-email\";\nimport \"./change-password\";\n","import {Form} from \"@main/components/form\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\nimport {makeUrl} from \"@main/utils/make-url\";\nimport axios from \"@main/axios\";\n\n/** Форма для переименования коллекции. */\nexport class RenameForm {\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLFormElement} form Форма для смены имени.\n     *\n     */\n    constructor(form) {\n        this.formElement = form;\n        this.form = new Form(this.formElement);\n        this.inputName = this.formElement.querySelector(\".js-rename-name-input\");\n        this.inputId = this.formElement.querySelector(\".js-rename-id-input\");\n        this.btnRenameOpen = document.querySelectorAll(\".js-rename-btn\");\n        this.error = this.formElement.querySelector(\".js-form-error-field\");\n        this.url = null;\n        this.bindEventListeners();\n    }\n\n    /**\n     * Инициализация открытия окна переименования и отправки формы.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.btnRenameOpen.forEach((btn) => {\n            btn.addEventListener(\"click\", () => {\n                this.inputName.value = btn.dataset.name;\n                this.url = makeUrl(routes.renameCollection, {\n                    \":collection_id\": btn.dataset.id,\n                });\n            });\n        });\n\n        this.formElement.addEventListener(\"submit\", this.submitForm.bind(this));\n    }\n\n    /**\n     * Отправка формы с новым имененем. В случае успеха - перезагрузить страницу\n     *\n     * @param {Event} e Событие, происходящее при отправке формы.\n     * @returns {void}\n     */\n    submitForm = async (e) => {\n        e.preventDefault();\n        if (!this.form.isValid) {\n            return;\n        }\n        try {\n            await axios.patch(this.url, {\n                name: this.inputName.value\n            });\n            window.location.reload();\n        } catch (e) {\n            if (e.response && e.response.data?.message) {\n                this.error.innerHTML = e.response.data.message;\n            } else {\n                this.error.innerHTML = ERROR_DEFAULT;\n                console.log(e);\n            }\n        }\n        return false;\n    }\n}\n\ndocument.querySelectorAll(\".js-rename-form\").forEach((el) => new RenameForm(el));\n","/** При горизонтальном скролле содержимого элемента до конца\n *  убираем полупрозрачный псевдоэлемент,\n * заблюривающий его край.\n * */\nexport class ScrollWithBlur {\n    // скрытие блюра происходит на 5px раньше, чем содержимое элемента доскролено до конца\n    static SCROLL_WIDTH_ADDITION = 5;\n    /**\n     * Конструктор класса.\n     *\n     * @param {HTMLDivElement} el элемент с горизонтальным скроллом содержимого.\n     */\n    constructor(el) {\n        this.el = el;\n        this.blurContainer = this.el.closest(\".js-scroll-and-blur-container\");\n        this.bindEventListeners();\n        this.addAndRemoveBlur();\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        this.el.addEventListener(\"scroll\", () => {\n            this.addAndRemoveBlur();\n        });\n\n        this.el.addEventListener(\"updateBlurScroll\", () => {\n            this.addAndRemoveBlur();\n        });\n    }\n\n    /**\n     * Убираем/добавляем блюр в конце элемента.\n     *\n     * @returns {void}\n     */\n    addAndRemoveBlur() {\n        if(this.isEndOfElement()) {\n            this.blurContainer.classList.add(\"blur-hidden\");\n        } else {\n            this.blurContainer.classList.remove(\"blur-hidden\");\n        }\n    }\n\n    /**\n     * Проверяем, достигли ли мы конца элемента.\n     *\n     * @returns {boolean}\n     */\n    isEndOfElement() {\n        if (this.el.scrollWidth > this.el.clientWidth) {\n            return this.el.scrollWidth <= this.el.scrollLeft + this.el.clientWidth +  ScrollWithBlur.SCROLL_WIDTH_ADDITION;\n        }\n        if (this.el.scrollHeight > this.el.clientHeight) {\n            return this.el.scrollHeight <= this.el.scrollTop + this.el.clientHeight +  ScrollWithBlur.SCROLL_WIDTH_ADDITION;\n        }\n        return true;\n    }\n}\n\ndocument.querySelectorAll(\".js-scroll-and-blur\").forEach((el) => new ScrollWithBlur(el));\n","/**\n * Компонент кнопки показать еще.\n */\nimport axios from \"@main/axios\";\nimport {ERROR_DEFAULT} from \"@main/consts/messages\";\nimport photoTemplate from \"@partials/photo.handlebars\";\nimport {ImgLoading} from \"@main/components/img-loading\";\nimport {Tooltip} from \"@main/components/tooltip\";\nimport paymentTemplate from \"@partials/payment.handlebars\";\nimport ColsItems from \"@main/components/cols-items\";\nimport {DownloadLink} from \"@main/components/download-link\";\n\nclass ShowMore {\n    /**\n     * Создает компонент кнопки показать еще.\n     *\n     * @param {HTMLElement} el - DOM элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        this.type = el.dataset.type;\n        this.url = el.dataset.url;\n        this.scroll = el.dataset.scroll;\n        this.page = Number(el.dataset.page);\n        this.list =  document.querySelector(\".js-show-more-list[data-type='\" + this.type + \"']\");\n        this.error =  document.querySelector(\".js-show-more-error[data-type='\" + this.type + \"']\");\n        this.slider = document.querySelector(\".js-fast-slider\");\n        this.bindEventlisteners();\n        this.autoloadFirstPage();\n    }\n\n    /**\n     * По клику на кнопку отправлять запрос.\n     *\n     * @returns {void}\n     */\n    bindEventlisteners() {\n        this.el.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            this.sendData();\n        });\n    }\n\n    /**\n     * Подгружаем первую страницу аяксом по классу js-show-more-autoload.\n     *\n     * @returns {void}\n     */\n    autoloadFirstPage() {\n        if (this.el.classList.contains(\"js-show-more-autoload\")) {\n            this.el.click();\n        }\n    }\n\n    /**\n     * Отправить запрос для получения следующей страницы\n     *\n     * @returns {void}\n     */\n    sendData = async () => {\n        if (this.el.classList.contains(\"waiting\")) {\n            return;\n        }\n        this.el.classList.add(\"waiting\");\n        const params = {page: this.page + 1};\n        try {\n            try {\n                const response = await axios({\n                    url: this.url,\n                    params,\n                    method: \"get\",\n                });\n                this.showResult(response.data);\n                this.checkLastPage(response.data);\n            } catch (e) {\n                if (e.response && e.response.data?.message) {\n                    this.showError(e.response.data.message);\n                } else {\n                    this.showError(ERROR_DEFAULT);\n                    console.log(e);\n                }\n            }\n        } finally {\n            this.el.classList.remove(\"waiting\");\n        }\n    }\n\n    /**\n     * Добавить новые элементы в список по шаблону в зависимости от типа\n     *\n     * @param {object} data - Данные с сервера.\n     * @returns {void}\n     */\n    showResult(data) {\n        switch (this.type) {\n            case \"photo\":\n                this.showPhotoSets(data);\n                break;\n            case \"payments\":\n                this.list.insertAdjacentHTML(\"beforeend\", paymentTemplate({items: data.items}));\n                break;\n            case \"gallery-item\":\n                this.showGalleryItems(data);\n                break;\n        }\n    }\n\n    /**\n     * Добавить новые элементы в список съемок.\n     *\n     * @param {object} data - Данные с сервера.\n     * @returns {void}\n     */\n    showPhotoSets(data) {\n        this.list.insertAdjacentHTML(\"beforeend\", photoTemplate({items: data.items}));\n        this.list.querySelectorAll(\".js-img-loading\").forEach((el) => new ImgLoading(el));\n    }\n\n    /**\n     * Добавить новые элементы в список фотографий\n     *\n     * @param {object} data - Данные с сервера.\n     * @returns {void}\n     */\n    showGalleryItems(data) {\n        const objColsItems = new ColsItems(this.list, data.items);\n        objColsItems.spreadItems();\n        if (this.slider) {\n            this.slider.dispatchEvent(new CustomEvent(\"updateSlider\", {\n                detail: data.items\n            }));\n        }\n        this.list.querySelectorAll(\".js-tooltip\").forEach((el) => new Tooltip(el));\n        this.list.querySelectorAll(\".js-download-link\").forEach((el) => new DownloadLink(el));\n    }\n\n    /**\n     * Удалить кнопку если страниц больше нет\n     *\n     * @returns {void}\n     */\n    checkLastPage(data) {\n        this.page++;\n        if (Number(data.pages) <= this.page) {\n            this.el.remove();\n        }\n    }\n\n    /**\n     * Вывести ошибку отправки запроса\n     *\n     * @returns {void}\n     */\n    showError(error) {\n        if (this.error) {\n            this.error.innerHTML = error;\n        } else {\n            alert(error);\n        }\n    }\n}\n\ndocument.querySelectorAll(\".js-show-more\").forEach((el) => new ShowMore(el));\n","/**\n * Компонент переключения вкладок.\n */\nclass Tabs {\n    /**\n     * Вкладки компонента.\n     *\n     * @type {{String : {button: HTMLButtonElement, content: HTMLElement}}} объект с существующими вкладками,\n     *  группирует кнопку переключения и сам контент этой вкладки\n     * @private\n     */\n    tabs;\n\n    /**\n     * @type {{button: HTMLButtonElement, content: HTMLElement}} элементы активной вкладки\n     * @private\n     */\n    active;\n\n    /**\n     * Создает компонент переключения вкладок.\n     *\n     * @param {HTMLElement} el - Родительский элемент кнопок вкладок.\n     */\n    constructor(el) {\n        this.el = el;\n        this.findElements();\n        this.bindEventListeners();\n    }\n\n    /**\n     * Поиск вкладок, соответствующих кнопкам и сохранение в объекте.\n     *\n     * @returns {void}\n     */\n    findElements() {\n        let tabContentGroup = document.querySelector(\n            `.js-tabs-group[data-tab-group=\"${this.el.getAttribute(\"data-group-target\")}\"]`\n        );\n        let tabContentList = Array.from(tabContentGroup.querySelectorAll(\".js-tabs-content\"));\n        let tabButtons = Array.from(this.el.querySelectorAll(\".js-tabs-button\"));\n\n        this.tabs = tabButtons.reduce((acc, tabButton) => {\n            const key = tabButton.dataset.entityType;\n            const linkedTabContent = tabContentList.find((tabContent) => tabContent.dataset.entityType === key);\n            const tabRadio = tabButton.querySelector(\".js-tab-radio\");\n            if (linkedTabContent) {\n                return {\n                    ...acc,\n                    [key]: {\n                        button: tabButton,\n                        content: linkedTabContent,\n                        radio: tabRadio\n                    },\n                };\n            }\n\n            return acc;\n        }, {});\n\n        this.active = {\n            button: this.el.querySelector(\".js-tabs-button.active\"),\n            content: tabContentGroup.querySelector(\".js-tabs-content.active\"),\n            radio: this.el.querySelector(\".js-tabs-button.active .js-tab-radio\"),\n        };\n    }\n\n    /**\n     * Вешает коллбэк нажатия на кнопки вкладок.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n        Object.keys(this.tabs).forEach((key) =>\n            this.tabs[key]?.button.addEventListener(\"click\", () => {\n                this.active.button?.classList.remove(\"active\");\n                this.active.content?.classList.remove(\"active\");\n                const radioButtons = this.el.querySelectorAll(\".js-tab-radio\");\n                if(radioButtons.length) {\n                    radioButtons.forEach((radio) => {\n                        radio.checked = false;\n                    })\n                }\n\n                this.active = this.tabs[key];\n\n                this.active.button?.classList.add(\"active\");\n                this.active.content?.classList.add(\"active\");\n                if(this.active.radio) {\n                    this.active.radio.checked = true;\n                }\n            })\n        );\n    }\n}\n\ndocument.querySelectorAll(\".js-tabs\").forEach((el) => new Tabs(el));\n","/**\n * Компонент открывает/закрывает меню.\n */\n\nimport {md} from \"@main/consts/media\";\nimport {getBtnFromTarget} from \"@main/utils/get-btn-from-target\";\n\nclass ToggleMenu {\n    /**\n     * Создает компонент, который открывает/закрывает меню.\n     *\n     */\n    constructor() {\n        this.bindEventlisteners();\n    }\n\n    /**\n     * Событие клика на документ\n     *\n     * @returns {void}\n     */\n    bindEventlisteners() {\n        document.addEventListener(\"click\", (e) => {\n            const btn = getBtnFromTarget(e.target, \"js-toggle-menu\");\n            if (btn) {\n                e.preventDefault();\n                if (document.body.classList.contains(\"menu-opened\")) {\n                    this.closeMenu();\n                } else {\n                    this.openMenu(btn);\n                }\n            } else if (!getBtnFromTarget(e.target, \"js-menu\")) {\n                this.closeMenu();\n            }\n        });\n    }\n\n    closeMenu() {\n        if (window.innerWidth < md) {\n            document.body.classList.remove(\"prevent-scroll\");\n        }\n        document.body.classList.remove(\"menu-opened\");\n        document.querySelectorAll(\".js-menu\").forEach((menu) => menu.classList.remove(\"opened\"));\n    }\n\n    openMenu(btn) {\n        const type = btn.dataset.type;\n        const menus = document.querySelectorAll(\".js-menu[data-type='\" + type + \"']\")\n        if (window.innerWidth < md) {\n            document.body.classList.add(\"prevent-scroll\");\n        }\n        document.body.classList.add(\"menu-opened\");\n        menus.forEach((menu) =>  menu.classList.add(\"opened\"));\n    }\n}\n\nnew ToggleMenu();\n","import tippy from \"tippy.js\";\nimport TooltipContent from \"@partials/tooltip.handlebars\";\n\n/** \n * Компонент тултип.\n */\nexport class Tooltip {\n    /**\n     * Создает компонент тултипа.\n     *\n     * @param {HTMLElement} el - DOM элемент.\n     */\n    constructor(el) {\n        this.el = el;\n        const contentHtml = this.el.querySelector(\".js-tooltip-content\")?.innerHTML;\n        let content = TooltipContent({\n            title: this.el.dataset.title,\n            text: this.el.dataset.text,\n        });\n        if (contentHtml) {\n            content = contentHtml\n        }\n        this.tippy = tippy(this.el, {\n            theme: this.el.dataset.theme,\n            content: content,\n            allowHTML: true,\n            maxWidth: 385,\n            placement: this.el.dataset.placement || \"top\",\n            popperOptions: {\n                strategy: \"fixed\",\n                modifiers: [\n                    {\n                        name: \"flip\",\n                        options: {\n                            fallbackPlacements: [\"top\", \"right\", \"left\"],\n                        },\n                    },\n                    {\n                        name: \"preventOverflow\",\n                        options: {\n                            altAxis: true,\n                            tether: false,\n                        },\n                    },\n                ],\n            },\n            onCreate(instance) {\n                if (!instance.reference.classList.contains(\"js-subscriptions-form\")) {\n                    return;\n                }\n\n                instance.setProps({\n                    showOnCreate: true,\n                    trigger: \"manual\",\n                    placement: \"bottom-start\",\n                    hideOnClick: false,\n                    appendTo: instance.reference,\n                });\n\n                if (window.innerWidth >= 768) {\n                    instance.setProps({\n                        placement: \"right-start\",\n                    });\n                }\n\n                instance.show();\n            },\n        });\n        this.bindEventListeners();\n\n    }\n\n    /**\n     * Отслеживание событий.\n     *\n     * @returns {void}\n     */\n    bindEventListeners() {\n\n        document.querySelector(\"body\").addEventListener(\"scroll\", () => {\n            this.hideTooltipOnScroll();\n        })\n\n    }\n\n    /**\n     * Скрываем тултип при прокрутке.\n     *\n     * @returns {void}\n     */\n    hideTooltipOnScroll() {\n        this.tippy.hide();\n    }\n}\n\ndocument.querySelectorAll(\".js-tooltip\").forEach((el) => new Tooltip(el));\n","/**\n * @type {{Number}} Время, через которое будет скрыта плашка с уведомлением\n */\nexport const NOTIFICATION_TIMEOUT_HIDE_INFO_MESSAGE = 5000;\n/**\n * @type {{Number}} Время, через которое будет автоматически показана плашка с уведомлением\n */\nexport const NOTIFICATION_TIMEOUT_SHOW_INFO_MESSAGE = 3000;\n/**\n * @type {{Number}} Время таймаута на ресайз окна\n */\nexport const WINDOW_RESIZE_TIMEOUT = 100;\n/**\n * @type {{Number}} Время таймаута для прорисовки модала\n */\nexport const MODAL_WAIT_TIMEOUT = 201;\n","export const MAX_DATE_LENGHT = 10;\nexport const CONTAINER_PADDING = 16;\n/**\n * Сколько показывать кнопок страниц в постраничной навигации до и после актуальной\n * Пример:\n * SPRED_PAGES = 2\n * Всего 9 страниц навигации и сейчас просматривают 5ю\n * 1 ... 3 4 5 6 7 ... 9\n * */\nexport const SPRED_PAGES = 2;\n//autocomplete\nexport const DEBOUNCE_WAIT_MS = 1000;\n\n\n","export const md = 1080;\n","export const ERROR_DEFAULT = `\nЧто-то пошло не так...\nПожалуйста, перезагрузите страницу.\n`;\n\n","export const WITHOUT_DIGITS_REGEX = /\\D/g;\nexport const DIGITS_WITH_POINT_REGEX = /\\d*\\.?\\d*/;\nexport const EMAIL_REGEX = /^((([0-9A-Za-z]{1})|([0-9A-Za-z]{1}[-0-9A-z.]{1,}[0-9A-Za-z]{1})|([0-9А-Яа-я]{1})|([0-9А-Яа-я]{1}[-0-9А-я.]{1,}[0-9А-Яа-я]{1}))@([-A-Za-z]{1,}\\.){1,2}[-A-Za-z]{2,})$/u;\nexport const NUMBER_REGEX = /^\\d+$/;\nexport const FORMAT_NUMBER_REGEX = /\\B(?=(\\d{3})+(?!\\d))/g;\nexport const FORMAT_DATE_REGEX = /[^0-9.]+/g;\nexport const PASSWORD_REGEX = /[a-zA-Zа-яА-я]/;\nexport const PASSWORD_REGEX_UPPER = /[A-ZА-Я]/;\n","export const getCookie = (name) => {\n    /* eslint-disable */\n    let matches = document.cookie.match(new RegExp(\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"));\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n    /* eslint-enable */\n}\n\nexport const setCookie = (name, value) => {\n    value = encodeURIComponent(value);\n    document.cookie = name + \"=\" + value + \";path=/\";\n}\n","/**\n * Маска ввода даты.\n *\n * @param {HTMLInputElement} input - Элемент ввода.\n */\nimport {WITHOUT_DIGITS_REGEX} from \"@main/consts/regex\";\n\nexport const dateInputMask = (input) => {\n    input.addEventListener(\"input\", function() {\n        const prefix = input.dataset.prefix || \"\";\n        input.value = input.value.replace(prefix, \"\").replace(WITHOUT_DIGITS_REGEX, \"\");\n\n        const len = input.value.length;\n        if (len >= 2) {\n            let day = input.value.slice(0, 2);\n            let month = input.value.slice(2, 4);\n            let year = input.value.slice(4, 8);\n\n            if (Number(day) > 31) {\n                day = 31;\n            }\n            if (Number(month) > 12) {\n                month = 12;\n            }\n\n            input.value = day;\n            if (month) {\n                input.value = day + \".\" + month;\n            }\n\n            if (year) {\n                input.value = day + \".\" + month+ \".\" + year;\n            }\n        }\n        input.value = prefix + input.value;\n    });\n}\n","/**\n * Преобразует байты в килобайты.\n *\n * @param {number} bytes Размер файла в байтах.\n * @returns {number} Размер файла в килобайтах.\n */\nexport const getSizeInKB = (bytes) => Math.round((bytes * 100) / 1024) / 100;\n\n/**\n * Преобразует байты в мегабайты.\n *\n * @param {number} bytes Размер файла в байтах.\n * @returns {number} Размер файла в мегабайтах.\n */\nexport const getSizeInMB = (bytes) => Math.round((getSizeInKB(bytes) * 100) / 1024) / 100;\n\n/**\n * Преобразует байты в человекопонятный вид.\n *\n * @param {number} bytes Размер файла в байтах.\n * @returns {string} Размер файла в мегабайтах.\n */\nexport const getFormattedFileSize = (bytes) => {\n    const sizeInKB = getSizeInKB(bytes);\n    if (sizeInKB < 500) {\n        return `${sizeInKB} КБ`;\n    } else {\n        return `${getSizeInMB(bytes)} МБ`;\n    }\n};\n","/**\n * Проверить таргет клика на нужный класс.\n *\n * @param {EventTarget} target Элемент, по которому кликнули.\n * @param {string} className Имя класса для проверки.\n *\n * @returns {HTMLElement || null} btn Вернуть кнопку или ничего, если цель не та.\n */\nexport const getBtnFromTarget = (target, className) => {\n    let btn = null;\n    if (target.classList.contains(className)) {\n        btn = target;\n    } else {\n        btn = target.closest(\".\" + className);\n    }\n    return btn;\n}\n","/**\n * Заменить параметры в URL на ID\n *\n * @param {string} url - URL-шаблон.\n * @param {object} mapObj - Объект параметров для замены mapObj = {\":collection_id\":\"1234\",\":image_id\":\"12345\"};.\n *\n * @returns {string} Результат подстаноки.\n */\nexport const makeUrl = (url, mapObj) => {\n    const regExpression = new RegExp(Object.keys(mapObj).join(\"|\"),\"gi\");\n    return url.replace(regExpression, function(matched) {\n        return mapObj[matched];\n    });\n}\n","import {FORMAT_NUMBER_REGEX, DIGITS_WITH_POINT_REGEX} from \"@main/consts/regex\";\n\n/**\n * Удаляет лишние символы из числа.\n *\n * @param {string} str Строка для форматирования.\n * @returns {string} Число.\n */\nexport const replaceBadInNumber = (str) => {\n    let last = \"\";\n    const match = str.replace(\",\", \".\").replace(\" \", \"\").match(DIGITS_WITH_POINT_REGEX);\n    if (match || str === \"\") {\n        last = match ? match[0] : \"\";\n    }\n    return last;\n};\n\n/**\n * Преобразует 10000 -> 10 000.\n *\n * @param {string} str Строка для форматирования.\n * @returns {string} 10000 -> 10 000.\n */\nexport const numberFormat = (str) => {\n    return replaceBadInNumber(str).replace(FORMAT_NUMBER_REGEX, \" \");\n};\n\n/**\n * Преобразует 10000 -> 10 000 ₽.\n *\n * @param {string} price Строка для форматирования.\n * @returns {string} 10000 -> 10 000 ₽.\n */\nexport const priceFormat = (price) => {\n    const formatter = new Intl.NumberFormat(\"ru-RU\", {\n        style: \"currency\",\n        currency: \"RUB\",\n        maximumFractionDigits: 0\n    });\n    return formatter.format(Number(price));\n};\n\n/**\n * Преобразует 10 000 -> 10000.\n *\n * @param {string} str Строка для форматирования.\n * @returns {number} 10 000 -> 10000.\n */\nexport const getRealNumber = (str) => {\n    return Number(replaceBadInNumber(str));\n};\n\n/**\n * Преобразует 24.7799999 -> 24.78 && 24.00 -> 24.\n *\n * @param {number} number Число для форматирования.\n * @returns {string} 24.7799999 -> 24.78.\n */\nexport const toFixAfterPoint = (number) => {\n    return number.toFixed(2).replace(\".00\",\"\");\n};\n","import URI from \"urijs\";\n\nimport {isJsonMap} from \"@std/guards\";\n\nexport abstract class App {\n    protected config: JsonMap = {};\n\n    protected constructor(config: JsonMap = {}) {\n        this.loadConfig(config);\n    }\n\n    public abstract run(): void;\n\n    public loadConfig(config: JsonMap): void {\n        this.config = config;\n    }\n\n    public getOption(optionName: string, defaultValue?: any): JsonValue {\n        const optionPath = optionName.split(\".\");\n\n        let option: JsonValue = this.config;\n\n        for (const key of optionPath) {\n            if (isJsonMap(option)) {\n                option = option[key];\n            } else if (defaultValue) {\n                return defaultValue;\n            } else {\n                throw new Error(`Опция ${optionName} не найдена.`);\n            }\n        }\n\n        return option;\n    }\n\n    /**\n     * @param {string} url\n     * @param {string} lang\n     * @return {string}\n     */\n    public getUrl(url: string, lang: string = BX.message(\"LANGUAGE_ID\")): string {\n        const uri = URI(url);\n\n        const segments = uri.segment();\n        const languages = this.getOption(\"loc.languages\");\n\n        if (!languages || (typeof languages !== \"object\")) {\n            throw new Error(\"Не определены поддерживаемые сайтом языки.\")\n        }\n\n        const languageCodes = Object.keys(languages);\n\n        if (segments && ~languageCodes.indexOf(segments[0])) {\n            segments.shift();\n        }\n\n        if (lang !== this.getOption(\"loc.default_language\")) {\n            segments.unshift(lang);\n        }\n\n        uri.segment(segments);\n\n        return uri.toString();\n    }\n}\n","export function isJsonMap(object: any): object is JsonMap {\n    return object && (typeof object === \"object\") && !Array.isArray(object);\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}